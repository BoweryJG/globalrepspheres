{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{Box}from'@mui/material';import WaveSurfer from'wavesurfer.js';import{jsx as _jsx}from\"react/jsx-runtime\";const WaveformVisualizer=_ref=>{let{audioUrl,isPlaying,onReady,onPlay,onPause,onFinish,height=80,waveColor='rgba(0, 255, 198, 0.6)',progressColor='rgba(0, 255, 198, 1)',cursorColor='#fff',barWidth=2,barGap=1,responsive=true,normalize=true}=_ref;const waveformRef=useRef(null);const wavesurfer=useRef(null);const[duration,setDuration]=useState(0);// Initialize WaveSurfer\nuseEffect(()=>{if(waveformRef.current&&!wavesurfer.current){wavesurfer.current=WaveSurfer.create({container:waveformRef.current,waveColor,progressColor,cursorColor,barWidth,barGap,responsive,normalize,height});wavesurfer.current.on('ready',()=>{setDuration(wavesurfer.current.getDuration());if(onReady)onReady(wavesurfer.current);});wavesurfer.current.on('play',()=>{if(onPlay)onPlay();});wavesurfer.current.on('pause',()=>{if(onPause)onPause();});wavesurfer.current.on('finish',()=>{if(onFinish)onFinish();});return()=>{if(wavesurfer.current){wavesurfer.current.destroy();wavesurfer.current=null;}};}},[waveformRef,waveColor,progressColor,cursorColor,barWidth,barGap,responsive,normalize,height,onReady,onPlay,onPause,onFinish]);// Load audio when URL changes\nuseEffect(()=>{if(wavesurfer.current&&audioUrl){wavesurfer.current.load(audioUrl);}},[audioUrl]);// Control playback\nuseEffect(()=>{if(wavesurfer.current){if(isPlaying){wavesurfer.current.play();}else{wavesurfer.current.pause();}}},[isPlaying]);return/*#__PURE__*/_jsx(Box,{ref:waveformRef,sx:{width:'100%',borderRadius:2,background:'rgba(20, 10, 35, 0.4)',padding:'10px','&:hover':{background:'rgba(30, 15, 50, 0.5)'}}});};export default WaveformVisualizer;","map":{"version":3,"names":["React","useEffect","useRef","useState","Box","WaveSurfer","jsx","_jsx","WaveformVisualizer","_ref","audioUrl","isPlaying","onReady","onPlay","onPause","onFinish","height","waveColor","progressColor","cursorColor","barWidth","barGap","responsive","normalize","waveformRef","wavesurfer","duration","setDuration","current","create","container","on","getDuration","destroy","load","play","pause","ref","sx","width","borderRadius","background","padding"],"sources":["/Users/jasonsmacbookpro2022/Documents/RepSpheres-Platform/repspheres-homepage-main/src/components/WaveformVisualizer.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Box } from '@mui/material';\nimport WaveSurfer from 'wavesurfer.js';\n\nconst WaveformVisualizer = ({ \n  audioUrl, \n  isPlaying, \n  onReady, \n  onPlay, \n  onPause, \n  onFinish, \n  height = 80,\n  waveColor = 'rgba(0, 255, 198, 0.6)',\n  progressColor = 'rgba(0, 255, 198, 1)',\n  cursorColor = '#fff',\n  barWidth = 2,\n  barGap = 1,\n  responsive = true,\n  normalize = true\n}) => {\n  const waveformRef = useRef(null);\n  const wavesurfer = useRef(null);\n  const [duration, setDuration] = useState(0);\n\n  // Initialize WaveSurfer\n  useEffect(() => {\n    if (waveformRef.current && !wavesurfer.current) {\n      wavesurfer.current = WaveSurfer.create({\n        container: waveformRef.current,\n        waveColor,\n        progressColor,\n        cursorColor,\n        barWidth,\n        barGap,\n        responsive,\n        normalize,\n        height\n      });\n\n      wavesurfer.current.on('ready', () => {\n        setDuration(wavesurfer.current.getDuration());\n        if (onReady) onReady(wavesurfer.current);\n      });\n\n      wavesurfer.current.on('play', () => {\n        if (onPlay) onPlay();\n      });\n\n      wavesurfer.current.on('pause', () => {\n        if (onPause) onPause();\n      });\n\n      wavesurfer.current.on('finish', () => {\n        if (onFinish) onFinish();\n      });\n\n      return () => {\n        if (wavesurfer.current) {\n          wavesurfer.current.destroy();\n          wavesurfer.current = null;\n        }\n      };\n    }\n  }, [waveformRef, waveColor, progressColor, cursorColor, barWidth, barGap, responsive, normalize, height, onReady, onPlay, onPause, onFinish]);\n\n  // Load audio when URL changes\n  useEffect(() => {\n    if (wavesurfer.current && audioUrl) {\n      wavesurfer.current.load(audioUrl);\n    }\n  }, [audioUrl]);\n\n  // Control playback\n  useEffect(() => {\n    if (wavesurfer.current) {\n      if (isPlaying) {\n        wavesurfer.current.play();\n      } else {\n        wavesurfer.current.pause();\n      }\n    }\n  }, [isPlaying]);\n\n  return (\n    <Box \n      ref={waveformRef} \n      sx={{ \n        width: '100%', \n        borderRadius: 2,\n        background: 'rgba(20, 10, 35, 0.4)',\n        padding: '10px',\n        '&:hover': {\n          background: 'rgba(30, 15, 50, 0.5)',\n        }\n      }}\n    />\n  );\n};\n\nexport default WaveformVisualizer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}