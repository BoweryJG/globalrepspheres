{"ast":null,"code":"import _objectSpread from\"/Users/jasonsmacbookpro2022/Documents/RepSpheres-Platform/repspheres-homepage-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef}from'react';import Box from'@mui/material/Box';import{useOrbContext}from'./OrbContextProvider';// Cache trig tables so we don't recalc sines/cosines each frame\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const trigTableCache=new Map();const getTrigTables=points=>{const cached=trigTableCache.get(points);if(cached)return cached;const angles=new Array(points);const sin=new Array(points);const cos=new Array(points);for(let i=0;i<points;i++){const angle=Math.PI*2*i/points;angles[i]=angle;sin[i]=Math.sin(angle);cos[i]=Math.cos(angle);}const tables={angles,sin,cos};trigTableCache.set(points,tables);return tables;};const AnimatedOrbHeroBG=_ref=>{let{zIndex=0,sx={},style={},className=\"\"}=_ref;const svgRef=useRef(null);const canvasRef=useRef(null);const parentOrbRef=useRef(null);const childrenGroupRef=useRef(null);// Refs to store mutable values that don't trigger re-renders\nconst orbStatesRef=useRef([]);const childOrbsRef=useRef([]);const particlesRef=useRef([]);const viewportSizeRef=useRef({vw:800,vh:800});const parentCenterBaseRef=useRef({x:400,y:400});const parentCenterRef=useRef({x:400,y:400});const orbScaleRef=useRef(1);const lastWheelTimeRef=useRef(0);const animationFrameIdRef=useRef(null);// New refs for enhanced features\nconst scrollPositionRef=useRef(0);const scrollVelocityRef=useRef(0);const lastScrollTimeRef=useRef(0);const orbReturnAnimationsRef=useRef([]);const mousePositionRef=useRef({x:0,y:0});const isHeroVisibleRef=useRef(true);const childPositionsRef=useRef([]);const parentVelocityRef=useRef({x:0,y:0});const dataTransmissionsRef=useRef([]);const lastTransmissionTimeRef=useRef({});const scrollDirectionRef=useRef('up');const lastScrollYRef=useRef(0);const orbsDispersedRef=useRef(false);const childCount=5;const parentRadius=36;// 20% smaller than 45\nconst childRadius=14;// 20% smaller than 18\nconst parentPoints=64;// Balanced for performance\nconst childPoints=32;// Optimized for smooth performance\nconst childAmp=0.3;// Reduced amplitude for smoother shapes\nconst orbMorphDirections=[];const orbMorphSpeeds=[];// --- Utility functions ---\nconst hslToHex=(h,s,l)=>{h/=360;s/=100;l/=100;let r,g,b;if(s===0){r=g=b=l;}else{const hue2rgb=(p,q,t)=>{if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;};const q=l<0.5?l*(1+s):l+s-l*s;const p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}return\"#\"+[r,g,b].map(x=>Math.round(x*255).toString(16).padStart(2,\"0\")).join(\"\");};const lerpColor=(a,b,t)=>{const ah=parseInt(a.replace('#',''),16),bh=parseInt(b.replace('#',''),16);const ar=ah>>16&0xff,ag=ah>>8&0xff,ab=ah&0xff;const br=bh>>16&0xff,bg=bh>>8&0xff,bb=bh&0xff;const rr=Math.round(ar+(br-ar)*t);const rg=Math.round(ag+(bg-ag)*t);const rb=Math.round(ab+(bb-ab)*t);return'#'+((1<<24)+(rr<<16)+(rg<<8)+rb).toString(16).slice(1);};const generateSuperSmoothBlob=function(cx,cy,r,points,t){let amp=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;let phase=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;const{angles,sin,cos}=getTrigTables(points);const pts=[];for(let i=0;i<points;i++){const angle=angles[i];// Full complexity noise for ethereal effect\nconst noise=Math.sin(angle*3+t*0.7+phase)*1.5*amp+Math.sin(angle*5-t*1.1+phase)*0.8*amp+Math.sin(angle*2+t*1.7+phase)*0.5*amp;const rad=r+noise;pts.push({x:cx+cos[i]*rad,y:cy+sin[i]*rad});}let d=\"\";for(let i=0;i<points;i++){const p0=pts[(i-1+points)%points];const p1=pts[i];const p2=pts[(i+1)%points];const p3=pts[(i+2)%points];if(i===0){d+=\"M\".concat(p1.x.toFixed(2),\",\").concat(p1.y.toFixed(2));}const c1x=p1.x+(p2.x-p0.x)/6;const c1y=p1.y+(p2.y-p0.y)/6;const c2x=p2.x-(p3.x-p1.x)/6;const c2y=p2.y-(p3.y-p1.y)/6;d+=\" C\".concat(c1x.toFixed(2),\",\").concat(c1y.toFixed(2),\" \").concat(c2x.toFixed(2),\",\").concat(c2y.toFixed(2),\" \").concat(p2.x.toFixed(2),\",\").concat(p2.y.toFixed(2));}d+=\"Z\";return d;};const getDynamicColorFamily=(i,now)=>{const baseHue=(i*67+now*0.018)%360;const hue2=(baseHue+40+20*Math.sin(now*0.0007+i))%360;const sat=80+10*Math.sin(now*0.0005+i);const light1=60+10*Math.cos(now*0.0004+i*2);const light2=35+15*Math.sin(now*0.0006+i*3);return[hslToHex(baseHue,sat,light1),hslToHex(hue2,sat,light2)];};const approach=(current,target,speed)=>{return current+(target-current)*speed;};const dampedSpring=(current,target,velocity,stiffness,damping)=>{const force=(target-current)*stiffness;velocity+=force;velocity*=damping;current+=velocity;return[current,velocity];};const emitParticles=function(x,y,color){let count=arguments.length>3&&arguments[3]!==undefined?arguments[3]:2;let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let now=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;if(!particlesRef.current)particlesRef.current=[];for(let j=0;j<count;j++){let h=(i*67+now*0.018)%360+(Math.random()-0.5)*24;let s=85+Math.random()*10;let l=55+Math.random()*20;const particleColor=hslToHex(h,s,l);const angle=Math.random()*2*Math.PI;const speed=0.4+Math.random()*0.7;const vx=Math.cos(angle)*speed;const vy=Math.sin(angle)*speed;particlesRef.current.push({x,y,vx,vy,r:1.1+Math.random()*1.2,life:0.6,decay:0.025+Math.random()*0.015,color:particleColor,opacity:0.45});}};const createDataTransmission=(childIndex,childX,childY,parentX,parentY,color)=>{const transmissionId=\"\".concat(childIndex,\"_\").concat(Date.now());// Create multiple particles for a stream effect\nfor(let p=0;p<3;p++){dataTransmissionsRef.current.push({id:\"\".concat(transmissionId,\"_\").concat(p),childIndex,startX:childX,startY:childY,endX:parentX,endY:parentY,progress:-p*0.15,// Stagger the particles\ncolor,opacity:0.6,// More visible effect\nparticleIndex:p});}};const updateDataTransmissions=()=>{var _svgRef$current;const transmissionsGroup=(_svgRef$current=svgRef.current)===null||_svgRef$current===void 0?void 0:_svgRef$current.querySelector('#dataTransmissions');if(!transmissionsGroup)return;// Clear previous transmissions\ntransmissionsGroup.innerHTML='';// Update and filter active transmissions\ndataTransmissionsRef.current=dataTransmissionsRef.current.filter(t=>t.progress<1);for(const transmission of dataTransmissionsRef.current){transmission.progress+=0.025;// Moderate transmission speed\nif(transmission.progress<1&&transmission.progress>0){// Create a data packet visualization\nconst t=Math.max(0,Math.min(1,transmission.progress));// Add some curve to the path\nconst curve=Math.sin(t*Math.PI)*20;const angle=Math.atan2(transmission.endY-transmission.startY,transmission.endX-transmission.startX);const perpX=-Math.sin(angle)*curve;const perpY=Math.cos(angle)*curve;const currentX=transmission.startX+(transmission.endX-transmission.startX)*t+perpX;const currentY=transmission.startY+(transmission.endY-transmission.startY)*t+perpY;// Data packet (glowing orb)\nconst packet=document.createElementNS(\"http://www.w3.org/2000/svg\",\"circle\");packet.setAttribute(\"cx\",currentX.toFixed(1));packet.setAttribute(\"cy\",currentY.toFixed(1));packet.setAttribute(\"r\",(4-transmission.particleIndex*0.5).toFixed(1));packet.setAttribute(\"fill\",transmission.color);packet.setAttribute(\"opacity\",(transmission.opacity*(1-t*0.2)*(1-transmission.particleIndex*0.2)).toFixed(2));packet.setAttribute(\"filter\",\"url(#dataGlow)\");transmissionsGroup.appendChild(packet);// Trail effect\nif(transmission.particleIndex===0){const trail=document.createElementNS(\"http://www.w3.org/2000/svg\",\"line\");const trailLength=0.15;const trailStart=Math.max(0,t-trailLength);const startX=transmission.startX+(transmission.endX-transmission.startX)*trailStart+perpX*trailStart/t;const startY=transmission.startY+(transmission.endY-transmission.startY)*trailStart+perpY*trailStart/t;trail.setAttribute(\"x1\",startX.toFixed(1));trail.setAttribute(\"y1\",startY.toFixed(1));trail.setAttribute(\"x2\",currentX.toFixed(1));trail.setAttribute(\"y2\",currentY.toFixed(1));trail.setAttribute(\"stroke\",transmission.color);trail.setAttribute(\"stroke-width\",\"1\");trail.setAttribute(\"opacity\",(transmission.opacity*0.3*(1-t)).toFixed(2));trail.setAttribute(\"stroke-linecap\",\"round\");transmissionsGroup.appendChild(trail);}}}};// Canvas-based particle rendering for performance\nconst renderCanvas=(ctx,now)=>{const canvas=canvasRef.current;if(!canvas)return;ctx.clearRect(0,0,canvas.width,canvas.height);// Draw particles only\nparticlesRef.current=particlesRef.current.filter(p=>p.life>0);for(const p of particlesRef.current){p.x+=p.vx;p.y+=p.vy;p.vx*=0.98;p.vy*=0.98;p.life-=p.decay;p.opacity=Math.max(0,p.life);ctx.globalAlpha=p.opacity*0.7;ctx.fillStyle=p.color;ctx.beginPath();ctx.arc(p.x,p.y,p.r*p.opacity,0,Math.PI*2);ctx.fill();}};// Get the context to update gradient colors\nconst{updateGradientColors}=useOrbContext();useEffect(()=>{const svg=svgRef.current;const canvas=canvasRef.current;if(!svg||!canvas){console.error('SVG or Canvas not initialized');return;}// Set canvas size\nconst updateCanvasSize=()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight;};updateCanvasSize();window.addEventListener('resize',updateCanvasSize);const ctx=canvas.getContext('2d');// Precompute trig tables for parent and child point counts\ngetTrigTables(parentPoints);getTrigTables(childPoints);parentOrbRef.current=svg.querySelector('#parentOrb');childrenGroupRef.current=svg.querySelector('#children');const makeOrbState=()=>({drag:0,dragTarget:0,dragV:0,squash:0,squashTarget:0,squashV:0,mouseDir:0,mouseDirTarget:0,mouseDirV:0,wobble:0,lastUpdate:performance.now(),parallaxOffset:{x:0,y:0},parallaxVelocity:{x:0,y:0},isReturning:false,returnProgress:0,position:{x:0,y:0,z:0},velocity:{x:0,y:0,z:0},dispersed:false,disperseTarget:{x:0,y:0},disperseProgress:0,assembleProgress:1,// 3D Orbital parameters\norbitalAngle:Math.random()*Math.PI*2,// Random starting angle\norbitalRadius:70,// Default radius\norbitalInclination:0,// Tilt of orbital plane\norbitalEccentricity:0.5,// Default elliptical\norbitalSpeed:1,// Default speed\norbitalPhase:0,// Phase offset for variety\norbitalTilt:0,// Additional axis tilt\n// Dynamic orbital changes\norbitalPerturbation:{x:0,y:0,z:0},// Temporary deviations\norbitalTarget:{radius:0,inclination:0,eccentricity:0},// Target state to return to\nwasVisible:true});orbMorphDirections.length=0;orbMorphSpeeds.length=0;orbMorphDirections.push(Math.PI/2);orbMorphSpeeds.push(0.012);for(let i=0;i<childCount;i++){const angle=Math.PI/2+(i-(childCount-1)/2)*(Math.PI/8)+(Math.random()-0.5)*(Math.PI/12);orbMorphDirections.push(angle);orbMorphSpeeds.push(0.014+i*0.004+Math.random()*0.003);}orbStatesRef.current=[makeOrbState()];// Parent\nchildOrbsRef.current=[];childPositionsRef.current=[];if(childrenGroupRef.current){childrenGroupRef.current.innerHTML='';for(let i=0;i<childCount;i++){const path=document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\");path.setAttribute(\"fill\",\"url(#childGrad\".concat(i,\")\"));path.setAttribute(\"opacity\",\"0.95\");childrenGroupRef.current.appendChild(path);childOrbsRef.current.push(path);const childState=makeOrbState();// Initialize 3D orbital parameters - each child gets unique orbit\nchildState.orbitalAngle=Math.random()*2*Math.PI;// Random starting position\nchildState.initialAngle=childState.orbitalAngle;// Store initial angle\n// Create completely unique orbital parameters for each child\nconst uniqueRadius=80+Math.random()*80;// Radius between 80-160 for more space\nconst uniqueInclination=(Math.random()-0.5)*Math.PI/3;// Random tilt\nconst uniqueEccentricity=0.1+Math.random()*0.7;// From nearly circular to very elliptical\nconst uniqueSpeed=0.5+Math.random()*1.0;// Speed varies from 0.5x to 1.5x\n// Additional unique parameters for complex motion\nchildState.orbitalWobbleSpeed=0.5+Math.random()*1.0;// How fast the orbit wobbles\nchildState.orbitalWobbleAmount=0.05+Math.random()*0.15;// How much the orbit wobbles\nchildState.radiusOscillationSpeed=0.3+Math.random()*0.7;// How fast radius changes\nchildState.radiusOscillationAmount=10+Math.random()*30;// How much radius changes (increased for more variation)\nconst variation={radius:uniqueRadius,inclination:uniqueInclination,eccentricity:uniqueEccentricity,speed:uniqueSpeed};childState.orbitalRadius=variation.radius;childState.orbitalInclination=variation.inclination;childState.orbitalEccentricity=variation.eccentricity;childState.orbitalSpeed=variation.speed;childState.orbitalPhase=i*Math.PI/3;// Different start phases\nchildState.orbitalTilt=0;// No additional tilt\n// Set targets for organized return\nchildState.orbitalTarget={radius:childState.orbitalRadius,inclination:childState.orbitalInclination,eccentricity:childState.orbitalEccentricity};orbStatesRef.current.push(childState);childPositionsRef.current.push({x:0,y:0,z:0});}}const adjustSVGSize=()=>{const vw=window.innerWidth;const vh=window.innerHeight;viewportSizeRef.current={vw,vh};const maxChildIndex=childCount-1;const maxOrbit=parentRadius+120+maxChildIndex*40;const maxReach=maxOrbit+childRadius+8;const minDim=Math.min(vw,vh);const scale=minDim/(maxReach*2);svg.setAttribute('width',vw.toString());svg.setAttribute('height',vh.toString());svg.setAttribute('viewBox',\"0 0 \".concat(vw,\" \").concat(vh));// Position between navbar (height ~80px) and title (starts around 15% of viewport)\nconst navbarHeight=80;// Approximate navbar height\nconst titleStartY=vh*0.15;// Where title starts (from HeroSection pt values)\n// Calculate max orbital extent (largest orbit + child radius)\nconst maxOrbitalRadius=95;// Largest orbit from orbital variations\nconst totalMaxRadius=maxOrbitalRadius+childRadius+10;// Add buffer\n// Start orbs at navbar level (right side)\nconst minY=navbarHeight-20;// Can overlap with navbar bottom\nconst maxY=navbarHeight+80;// Keep orbs very high up\nconst centerY=navbarHeight;// Start position at navbar level\n// Dynamic positioning based on screen size\nconst isMobile=vw<768;const isTablet=vw>=768&&vw<1024;let rightOffset;let dynamicScale;if(isMobile){rightOffset=20;// Slight right offset on mobile\n// Ensure orbs fit within viewport minus navbar\nconst availableHeight=vh-navbarHeight-40;// 40px bottom buffer\nconst availableWidth=vw-40;// 20px margins\nconst maxDimension=Math.min(availableWidth,availableHeight);dynamicScale=Math.min(0.85,maxDimension/(totalMaxRadius*2.2));}else if(isTablet){rightOffset=vw*0.1;dynamicScale=0.95;}else{rightOffset=Math.min(100,vw*0.08);// Position further right, under nav buttons\ndynamicScale=1;}const finalScale=scale*dynamicScale;parentCenterBaseRef.current={x:vw*0.5+rightOffset,y:centerY};parentCenterRef.current={x:vw*0.5+rightOffset,y:centerY};orbScaleRef.current=finalScale;};adjustSVGSize();window.addEventListener('resize',adjustSVGSize);// Mouse move handler for cursor effect\nconst handleMouseMove=e=>{const rect=svg.getBoundingClientRect();mousePositionRef.current={x:e.clientX-rect.left,y:e.clientY-rect.top};};window.addEventListener('mousemove',handleMouseMove);// Enhanced scroll handling - only affects parent orb\nconst handleScroll=()=>{const scrollY=window.scrollY;const now=performance.now();const dt=now-lastScrollTimeRef.current;if(dt>0){scrollVelocityRef.current=(scrollY-scrollPositionRef.current)/dt*120;}scrollPositionRef.current=scrollY;lastScrollTimeRef.current=now;const heroHeight=window.innerHeight;const scrollProgress=Math.min(scrollY/heroHeight,1);// Always keep animation running\nif(!animationFrameIdRef.current){animationFrameIdRef.current=requestAnimationFrame(animate);}// Only parent orb responds to scroll - much gentler\nconst parentState=orbStatesRef.current[0];if(parentState){parentState.dragTarget+=scrollVelocityRef.current*0.3;parentVelocityRef.current.y=scrollVelocityRef.current*0.15;}};window.addEventListener('scroll',handleScroll);const handleWheel=e=>{const now=performance.now();const dt=Math.max(1,now-lastWheelTimeRef.current);lastWheelTimeRef.current=now;const velocity=Math.max(-80,Math.min(80,e.deltaY/dt*120));// Only affect parent orb with wheel\nconst parentState=orbStatesRef.current[0];if(parentState&&orbMorphDirections[0]!==undefined){const angle=orbMorphDirections[0];parentState.dragTarget+=Math.sin(angle)*velocity*1.8+Math.cos(angle)*velocity*0.7;}e.preventDefault();};const eventTarget=svg;eventTarget.addEventListener('wheel',handleWheel,{passive:false});const animate=()=>{if(!svgRef.current||!parentOrbRef.current||!childrenGroupRef.current){animationFrameIdRef.current=requestAnimationFrame(animate);return;}// Always continue animation - never stop\nconst now=performance.now();// Update gradient colors in context for navbar orb\nconst baseHue=now*0.01%360;const startHue=baseHue;const endHue=(baseHue+60*Math.sin(now*0.00015+Math.PI*0.5))%360;const startColor=hslToHex(startHue,80,60);const endColor=hslToHex(endHue,80,60);updateGradientColors({start:startColor,end:endColor});const parentStops=[{id:\"p0\",phase:0},{id:\"p1\",phase:Math.PI*0.5},{id:\"p2\",phase:Math.PI},{id:\"p3\",phase:Math.PI*1.5}];for(let i=0;i<parentStops.length;i++){const stop=parentStops[i];const hue=(baseHue+60*Math.sin(now*0.00015+stop.phase))%360;const sat=80+10*Math.sin(now*0.0002+stop.phase);const light=60+10*Math.cos(now*0.00018+stop.phase);const stopEl=svgRef.current.querySelector(\"#\".concat(stop.id));if(stopEl)stopEl.setAttribute(\"stop-color\",hslToHex(hue,sat,light));}// Update parent orb physics\nconst parentState=orbStatesRef.current[0];if(parentState&&orbMorphDirections[0]!==undefined){const spring=0.06*(1+orbMorphSpeeds[0]);const damping=0.94-orbMorphSpeeds[0]*0.2;[parentState.drag,parentState.dragV]=dampedSpring(parentState.drag,parentState.dragTarget,parentState.dragV,spring,damping);if(Math.abs(parentState.dragTarget)<0.1&&Math.abs(parentState.drag)>0.1){parentState.wobble+=0.04+orbMorphSpeeds[0]*0.9;parentState.drag+=Math.sin(parentState.wobble)*Math.max(0,Math.abs(parentState.drag)*0.13*(1+orbMorphSpeeds[0]));}else if(Math.abs(parentState.dragTarget)<0.1){parentState.wobble=0;}parentState.dragTarget=approach(parentState.dragTarget,0,0.025+orbMorphSpeeds[0]*0.4);}// Update parent orb position\nif(parentState&&orbMorphDirections[0]!==undefined){const parentMorphT=now*0.00015;// Much slower morphing\nconst parentDrag=parentState.drag;const parentAngle=orbMorphDirections[0];const parentDx=Math.cos(parentAngle)*parentDrag;const parentDy=Math.sin(parentAngle)*parentDrag;const scale=orbScaleRef.current||1;const{vw,vh}=viewportSizeRef.current;// Define safe zones based on navbar and orb dimensions\nconst navbarHeight=80;const maxOrbitalRadius=95;const totalMaxRadius=maxOrbitalRadius+childRadius+10;// Gentler cursor effect\nconst mouseX=mousePositionRef.current.x;const mouseY=mousePositionRef.current.y;const mouseDx=mouseX-parentCenterBaseRef.current.x;const mouseDy=mouseY-parentCenterBaseRef.current.y;const mouseDistance=Math.sqrt(mouseDx*mouseDx+mouseDy*mouseDy);const maxMouseEffect=20;const mouseEffect=Math.max(0,1-mouseDistance/400)*maxMouseEffect;// Smoother velocity damping\nparentVelocityRef.current.x*=0.97;parentVelocityRef.current.y*=0.96;// Gentler scroll response with bounds checking\nconst scrollOffset=Math.max(-50,Math.min(50,scrollPositionRef.current*-0.08));// Subtle floating motion\nconst floatX=Math.sin(now*0.0001)*15+Math.cos(now*0.00015)*10;const floatY=Math.cos(now*0.00012)*10+Math.sin(now*0.00008)*8;const px=parentCenterBaseRef.current.x+floatX+(mouseDx/mouseDistance||0)*mouseEffect+parentVelocityRef.current.x;// Calculate parent Y with bounds to prevent navbar overlap\nconst baseY=parentCenterBaseRef.current.y;const proposedY=baseY+floatY+(mouseDy/mouseDistance||0)*mouseEffect+parentVelocityRef.current.y+scrollOffset;// Keep orb at navbar level\nconst safeMinY=navbarHeight-30;// Allow overlap with navbar\nconst safeMaxY=navbarHeight+60;// Very constrained to top\nconst py=Math.min(safeMaxY,Math.max(safeMinY,proposedY));parentCenterRef.current={x:px,y:py};// Scale parent based on scroll - enlarges when scrolling\nconst scrollScale=1+Math.abs(scrollVelocityRef.current)*0.0002;const dispersalScale=orbsDispersedRef.current?1.2:1;const parentR=(parentRadius+parentDrag*0.15)*scale*scrollScale*dispersalScale;const parentAmp=(1+Math.abs(parentDrag)*0.008)*scale;const parentPath=generateSuperSmoothBlob(px+parentDx*scale,py+parentDy*scale,parentR,parentPoints,parentMorphT,parentAmp);if(parentOrbRef.current)parentOrbRef.current.setAttribute('d',parentPath);}// Update child orbs\nif(childrenGroupRef.current&&childOrbsRef.current.length===childCount){// Remove group rotation - each child moves independently\nchildrenGroupRef.current.style.transform='none';// Create array with indices for z-sorting\nconst childIndices=Array.from({length:childCount},(_,i)=>i);// Sort by z-position (back to front)\nchildIndices.sort((a,b)=>{var _stateA$position,_stateB$position;const stateA=orbStatesRef.current[a+1];const stateB=orbStatesRef.current[b+1];return((stateA===null||stateA===void 0?void 0:(_stateA$position=stateA.position)===null||_stateA$position===void 0?void 0:_stateA$position.z)||0)-((stateB===null||stateB===void 0?void 0:(_stateB$position=stateB.position)===null||_stateB$position===void 0?void 0:_stateB$position.z)||0);});for(let idx=0;idx<childCount;idx++){var _orbStatesRef$current;const i=childIndices[idx];const state=orbStatesRef.current[i+1];if(!state||orbMorphDirections[i+1]===undefined)continue;// Minimal physics for child orbs to reduce interference with orbital motion\nstate.drag*=0.95;// Simple damping\nstate.dragTarget=0;const fam=getDynamicColorFamily(i,now);const tcol=0.5+0.5*Math.sin(now*0.0005+i);const childColor=lerpColor(fam[0],fam[1],tcol);const childGradStop0=svgRef.current.querySelector(\"#c\".concat(i,\"s0\"));const childGradStop1=svgRef.current.querySelector(\"#c\".concat(i,\"s1\"));if(childGradStop0)childGradStop0.setAttribute(\"stop-color\",childColor);if(childGradStop1)childGradStop1.setAttribute(\"stop-color\",lerpColor(fam[1],fam[0],tcol));// Independent orbital motion for each child\nif(state.orbitalAngle===undefined||isNaN(state.orbitalAngle)){state.orbitalAngle=i*2*Math.PI/childCount;}// Smooth flowing speed with dynamic variations\nconst speed=state.orbitalSpeed||1;state.orbitalAngle+=speed*0.008;// 4x faster but still smooth\nconst angle=state.orbitalAngle;// Add unique orbital wobble and distance variation for each orb\nconst wobbleTime=now*0.0001;const radiusVariation=Math.sin(wobbleTime*(state.radiusOscillationSpeed||0.5)+i*Math.PI)*(state.radiusOscillationAmount||15);const pathWobble=Math.sin(wobbleTime*1.7+i)*(state.orbitalWobbleAmount||0.1);// No perturbations for stable orbits\nstate.orbitalPerturbation.x=0;state.orbitalPerturbation.y=0;state.orbitalPerturbation.z=0;const{vw,vh}=viewportSizeRef.current;const currentParentR=(parentRadius+(((_orbStatesRef$current=orbStatesRef.current[0])===null||_orbStatesRef$current===void 0?void 0:_orbStatesRef$current.drag)||0)*0.15)*(orbScaleRef.current||1);// Dynamic elliptical orbital calculations\nconst baseRadius=state.orbitalRadius||70;const r=baseRadius+radiusVariation;// Varying radius\nconst e=state.orbitalEccentricity||0.5;// Each orb's ellipse rotates at its own unique speed\nconst ellipseRotation=wobbleTime*(state.orbitalWobbleSpeed||0.7)+state.initialAngle;// Calculate elliptical orbital position with dynamic eccentricity\nconst dynamicEccentricity=e+Math.sin(wobbleTime*0.7+i*2)*0.2;const a=r;// Semi-major axis\nconst b=r*(1-dynamicEccentricity*0.5);// Semi-minor axis varies\n// Apply rotation to ellipse\nconst baseX=a*Math.cos(angle+pathWobble);const baseY=b*Math.sin(angle+pathWobble);const orbitalX=baseX*Math.cos(ellipseRotation)-baseY*Math.sin(ellipseRotation);const orbitalY=baseX*Math.sin(ellipseRotation)+baseY*Math.cos(ellipseRotation);// Enhanced 3D motion with vertical oscillation\nconst inclination=state.orbitalInclination+Math.sin(wobbleTime*0.5+i)*0.2;const verticalOscillation=Math.sin(wobbleTime*0.8+i*Math.PI/2)*10;const finalX=orbitalX;const finalY=orbitalY*Math.cos(inclination)+verticalOscillation;const finalZ=orbitalY*Math.sin(inclination);// Project 3D to 2D with perspective\nconst perspective=800;const scale3D=perspective/(perspective+finalZ);// Get parent's current position (including any mouse effects from parent orb state)\nconst parentState=orbStatesRef.current[0];const parentDrag=(parentState===null||parentState===void 0?void 0:parentState.drag)||0;const parentDragAngle=orbMorphDirections[0]||0;const parentDx=Math.cos(parentDragAngle)*parentDrag;const parentDy=Math.sin(parentDragAngle)*parentDrag;const scale=orbScaleRef.current||1;const parentX=parentCenterRef.current.x+parentDx*scale;const parentY=parentCenterRef.current.y+parentDy*scale;// Position child relative to parent's actual position using orbital calculations\nconst childX=parentX+finalX*scale3D*scale;const childY=parentY+finalY*scale3D*scale;// Store 3D position\nstate.position.z=finalZ;// Remove drag effects for stable orbits\nconst dx=0;const dy=0;// No collision detection - keep orbits stable\nstate.velocity.x=0;state.velocity.y=0;// Check collision with parent\nconst distToParent=Math.sqrt((childX-parentX)*(childX-parentX)+(childY-parentY)*(childY-parentY));const minDistance=(parentRadius+childRadius)*scale*1.2;// Add some buffer\nlet bounceX=0,bounceY=0;if(distToParent<minDistance&&distToParent>0){// Calculate bounce direction (away from parent)\nconst pushX=(childX-parentX)/distToParent;const pushY=(childY-parentY)/distToParent;const pushForce=(minDistance-distToParent)*0.5;bounceX=pushX*pushForce;bounceY=pushY*pushForce;}// Handle dispersal/reassembly animations\nlet x,y;if(state.dispersed){// Animate to dispersed position\nstate.disperseProgress=Math.min(1,state.disperseProgress+0.02);const t=state.disperseProgress;const easeOut=1-Math.pow(1-t,3);x=childX+(state.disperseTarget.x-childX)*easeOut;y=childY+(state.disperseTarget.y-childY)*easeOut;}else if(state.assembleProgress<1){// Animate reassembly from below/behind\nstate.assembleProgress=Math.min(1,state.assembleProgress+0.015);const t=state.assembleProgress;const easeInOut=t<0.5?2*t*t:1-Math.pow(-2*t+2,2)/2;// Start from below and behind\nconst startX=state.disperseTarget.x||childX;const startY=viewportSizeRef.current.vh+100;x=startX+(childX-startX)*easeInOut;y=startY+(childY-startY)*easeInOut;}else{// Normal orbital motion - use the calculated orbital position\nx=childX+dx+bounceX;y=childY+dy+bounceY;}// Apply depth-based scaling and dimming - children get smaller when scrolling\nconst scrollChildScale=1-Math.abs(scrollVelocityRef.current)*0.0001;const dispersalChildScale=state.dispersed?0.7:1;const depthScale=scale3D*0.8+0.2;// Keep minimum 20% size\nconst depthOpacity=scale3D*0.7+0.3;// Keep minimum 30% opacity\nconst cR=(childRadius+state.drag*0.08)*scale*depthScale*scrollChildScale*dispersalChildScale;const currentChildAmp=(childAmp+Math.abs(state.drag)*0.006)*scale*depthScale;const morphT=now*0.0002+i*10;// Slower morphing\nconst childPath=generateSuperSmoothBlob(x,y,cR,childPoints,morphT,currentChildAmp,i);const path=childOrbsRef.current[i];if(path){path.setAttribute(\"d\",childPath);const fadeStart=40,fadeEnd=340;const fade=Math.min(1,Math.max(0,(fadeEnd-Math.abs(state.dragTarget))/(fadeEnd-fadeStart)));if(state.wasVisible===undefined)state.wasVisible=fade>0.5;if(fade<0.5&&fade>0.05&&!state.isReturning){const color=lerpColor(fam[0],fam[1],tcol);const emission=Math.ceil((0.5-fade)*8);emitParticles(x,y,color,emission,i,now);path.setAttribute(\"opacity\",(fade*0.95).toFixed(2));}else if(state.wasVisible&&fade<=0.05){const color=lerpColor(fam[0],fam[1],tcol);emitParticles(x,y,color,6,i,now);path.setAttribute(\"opacity\",\"0\");state.wasVisible=false;}else if(!state.wasVisible&&fade>0.05){const color=lerpColor(fam[0],fam[1],tcol);emitParticles(x,y,color,5,i,now);path.setAttribute(\"opacity\",(fade*0.95).toFixed(2));state.wasVisible=true;}else{// Apply depth-based opacity\npath.setAttribute(\"opacity\",(0.95*depthOpacity).toFixed(2));}// Store position (for future use)\nchildPositionsRef.current[i]={x,y,z:finalZ};// Check for color matching and create data transmission\n// Get parent color\nconst parentStop0=svgRef.current.querySelector('#p0');const parentColor=(parentStop0===null||parentStop0===void 0?void 0:parentStop0.getAttribute('stop-color'))||'#00E5FF';// Simple color similarity check (comparing first few characters)\nconst colorMatch=childColor.substring(0,4)===parentColor.substring(0,4);// Intermittent transmission (random chance) - reduced frequency with variation\nconst timeSinceLastTransmission=now-(lastTransmissionTimeRef.current[i]||0);const minInterval=6000+Math.random()*4000;// 6-10 seconds\nif(timeSinceLastTransmission>minInterval&&Math.random()<0.04){createDataTransmission(i,x,y,parentX,parentY,childColor);lastTransmissionTimeRef.current[i]=now;}// Update z-order in DOM\nif(path.parentNode){path.parentNode.appendChild(path);}}}}// Update data transmissions\nupdateDataTransmissions();// Render particles on canvas\nrenderCanvas(ctx,now);animationFrameIdRef.current=requestAnimationFrame(animate);};animationFrameIdRef.current=requestAnimationFrame(animate);return()=>{window.removeEventListener('resize',adjustSVGSize);window.removeEventListener('resize',updateCanvasSize);window.removeEventListener('scroll',handleScroll);window.removeEventListener('mousemove',handleMouseMove);if(eventTarget){eventTarget.removeEventListener('wheel',handleWheel);}if(animationFrameIdRef.current){cancelAnimationFrame(animationFrameIdRef.current);}};},[]);// Empty dependency array - only run once on mount\nreturn/*#__PURE__*/_jsxs(Box,{sx:_objectSpread({position:\"fixed\",top:0,left:0,width:\"100vw\",height:\"100vh\",zIndex,pointerEvents:\"none\",// Allows interaction with elements underneath\ntouchAction:'none',// For consistency with HTML\nbackground:'transparent'},sx),style:style,className:className,children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{position:'absolute',top:0,left:0,width:'100%',height:'100%'}}),/*#__PURE__*/_jsxs(\"svg\",{ref:svgRef,id:\"orbSVG\",style:{width:'100%',height:'100%',position:'relative'},children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"radialGradient\",{id:\"parentGrad\",cx:\"50%\",cy:\"50%\",r:\"70%\",children:[/*#__PURE__*/_jsx(\"stop\",{id:\"p0\",offset:\"0%\",stopColor:\"#00E5FF\"}),/*#__PURE__*/_jsx(\"stop\",{id:\"p1\",offset:\"100%\",stopColor:\"#5B3CFF\"}),/*#__PURE__*/_jsx(\"stop\",{id:\"p2\",offset:\"50%\",stopColor:\"#00E5FF\"}),/*#__PURE__*/_jsx(\"stop\",{id:\"p3\",offset:\"75%\",stopColor:\"#5B3CFF\"})]}),/*#__PURE__*/_jsxs(\"radialGradient\",{id:\"childGrad0\",cx:\"50%\",cy:\"50%\",r:\"70%\",children:[/*#__PURE__*/_jsx(\"stop\",{id:\"c0s0\",offset:\"0%\",stopColor:\"#B3D8FF\"}),/*#__PURE__*/_jsx(\"stop\",{id:\"c0s1\",offset:\"100%\",stopColor:\"#0A192F\"})]}),/*#__PURE__*/_jsxs(\"radialGradient\",{id:\"childGrad1\",cx:\"50%\",cy:\"50%\",r:\"70%\",children:[/*#__PURE__*/_jsx(\"stop\",{id:\"c1s0\",offset:\"0%\",stopColor:\"#C6FFD9\"}),/*#__PURE__*/_jsx(\"stop\",{id:\"c1s1\",offset:\"100%\",stopColor:\"#145A32\"})]}),/*#__PURE__*/_jsxs(\"radialGradient\",{id:\"childGrad2\",cx:\"50%\",cy:\"50%\",r:\"70%\",children:[/*#__PURE__*/_jsx(\"stop\",{id:\"c2s0\",offset:\"0%\",stopColor:\"#FFB3C9\"}),/*#__PURE__*/_jsx(\"stop\",{id:\"c2s1\",offset:\"100%\",stopColor:\"#7B1F3A\"})]}),/*#__PURE__*/_jsxs(\"radialGradient\",{id:\"childGrad3\",cx:\"50%\",cy:\"50%\",r:\"70%\",children:[/*#__PURE__*/_jsx(\"stop\",{id:\"c3s0\",offset:\"0%\",stopColor:\"#E0D1FF\"}),/*#__PURE__*/_jsx(\"stop\",{id:\"c3s1\",offset:\"100%\",stopColor:\"#311B4F\"})]}),/*#__PURE__*/_jsxs(\"radialGradient\",{id:\"childGrad4\",cx:\"50%\",cy:\"50%\",r:\"70%\",children:[/*#__PURE__*/_jsx(\"stop\",{id:\"c4s0\",offset:\"0%\",stopColor:\"#FFF5B3\"}),/*#__PURE__*/_jsx(\"stop\",{id:\"c4s1\",offset:\"100%\",stopColor:\"#4B3800\"})]}),/*#__PURE__*/_jsxs(\"filter\",{id:\"glow\",children:[/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"3\",result:\"coloredBlur\"}),/*#__PURE__*/_jsxs(\"feMerge\",{children:[/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"coloredBlur\"}),/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"SourceGraphic\"})]})]}),/*#__PURE__*/_jsxs(\"filter\",{id:\"dataGlow\",children:[/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"2\",result:\"coloredBlur\"}),/*#__PURE__*/_jsx(\"feColorMatrix\",{in:\"coloredBlur\",type:\"matrix\",values:\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 2 0\"}),/*#__PURE__*/_jsxs(\"feMerge\",{children:[/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"coloredBlur\"}),/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"SourceGraphic\"})]})]})]}),/*#__PURE__*/_jsx(\"path\",{id:\"parentOrb\",fill:\"url(#parentGrad)\",opacity:\"0.95\"}),/*#__PURE__*/_jsx(\"g\",{id:\"dataTransmissions\"}),/*#__PURE__*/_jsx(\"g\",{id:\"children\"})]})]});};export default AnimatedOrbHeroBG;","map":{"version":3,"names":["React","useEffect","useRef","Box","useOrbContext","jsx","_jsx","jsxs","_jsxs","trigTableCache","Map","getTrigTables","points","cached","get","angles","Array","sin","cos","i","angle","Math","PI","tables","set","AnimatedOrbHeroBG","_ref","zIndex","sx","style","className","svgRef","canvasRef","parentOrbRef","childrenGroupRef","orbStatesRef","childOrbsRef","particlesRef","viewportSizeRef","vw","vh","parentCenterBaseRef","x","y","parentCenterRef","orbScaleRef","lastWheelTimeRef","animationFrameIdRef","scrollPositionRef","scrollVelocityRef","lastScrollTimeRef","orbReturnAnimationsRef","mousePositionRef","isHeroVisibleRef","childPositionsRef","parentVelocityRef","dataTransmissionsRef","lastTransmissionTimeRef","scrollDirectionRef","lastScrollYRef","orbsDispersedRef","childCount","parentRadius","childRadius","parentPoints","childPoints","childAmp","orbMorphDirections","orbMorphSpeeds","hslToHex","h","s","l","r","g","b","hue2rgb","p","q","t","map","round","toString","padStart","join","lerpColor","a","ah","parseInt","replace","bh","ar","ag","ab","br","bg","bb","rr","rg","rb","slice","generateSuperSmoothBlob","cx","cy","amp","arguments","length","undefined","phase","pts","noise","rad","push","d","p0","p1","p2","p3","concat","toFixed","c1x","c1y","c2x","c2y","getDynamicColorFamily","now","baseHue","hue2","sat","light1","light2","approach","current","target","speed","dampedSpring","velocity","stiffness","damping","force","emitParticles","color","count","j","random","particleColor","vx","vy","life","decay","opacity","createDataTransmission","childIndex","childX","childY","parentX","parentY","transmissionId","Date","id","startX","startY","endX","endY","progress","particleIndex","updateDataTransmissions","_svgRef$current","transmissionsGroup","querySelector","innerHTML","filter","transmission","max","min","curve","atan2","perpX","perpY","currentX","currentY","packet","document","createElementNS","setAttribute","appendChild","trail","trailLength","trailStart","renderCanvas","ctx","canvas","clearRect","width","height","globalAlpha","fillStyle","beginPath","arc","fill","updateGradientColors","svg","console","error","updateCanvasSize","window","innerWidth","innerHeight","addEventListener","getContext","makeOrbState","drag","dragTarget","dragV","squash","squashTarget","squashV","mouseDir","mouseDirTarget","mouseDirV","wobble","lastUpdate","performance","parallaxOffset","parallaxVelocity","isReturning","returnProgress","position","z","dispersed","disperseTarget","disperseProgress","assembleProgress","orbitalAngle","orbitalRadius","orbitalInclination","orbitalEccentricity","orbitalSpeed","orbitalPhase","orbitalTilt","orbitalPerturbation","orbitalTarget","radius","inclination","eccentricity","wasVisible","path","childState","initialAngle","uniqueRadius","uniqueInclination","uniqueEccentricity","uniqueSpeed","orbitalWobbleSpeed","orbitalWobbleAmount","radiusOscillationSpeed","radiusOscillationAmount","variation","adjustSVGSize","maxChildIndex","maxOrbit","maxReach","minDim","scale","navbarHeight","titleStartY","maxOrbitalRadius","totalMaxRadius","minY","maxY","centerY","isMobile","isTablet","rightOffset","dynamicScale","availableHeight","availableWidth","maxDimension","finalScale","handleMouseMove","e","rect","getBoundingClientRect","clientX","left","clientY","top","handleScroll","scrollY","dt","heroHeight","scrollProgress","requestAnimationFrame","animate","parentState","handleWheel","deltaY","preventDefault","eventTarget","passive","startHue","endHue","startColor","endColor","start","end","parentStops","stop","hue","light","stopEl","spring","abs","parentMorphT","parentDrag","parentAngle","parentDx","parentDy","mouseX","mouseY","mouseDx","mouseDy","mouseDistance","sqrt","maxMouseEffect","mouseEffect","scrollOffset","floatX","floatY","px","baseY","proposedY","safeMinY","safeMaxY","py","scrollScale","dispersalScale","parentR","parentAmp","parentPath","transform","childIndices","from","_","sort","_stateA$position","_stateB$position","stateA","stateB","idx","_orbStatesRef$current","state","fam","tcol","childColor","childGradStop0","childGradStop1","isNaN","wobbleTime","radiusVariation","pathWobble","currentParentR","baseRadius","ellipseRotation","dynamicEccentricity","baseX","orbitalX","orbitalY","verticalOscillation","finalX","finalY","finalZ","perspective","scale3D","parentDragAngle","dx","dy","distToParent","minDistance","bounceX","bounceY","pushX","pushY","pushForce","easeOut","pow","easeInOut","scrollChildScale","dispersalChildScale","depthScale","depthOpacity","cR","currentChildAmp","morphT","childPath","fadeStart","fadeEnd","fade","emission","ceil","parentStop0","parentColor","getAttribute","colorMatch","substring","timeSinceLastTransmission","minInterval","parentNode","removeEventListener","cancelAnimationFrame","_objectSpread","pointerEvents","touchAction","background","children","ref","offset","stopColor","stdDeviation","result","in","type","values"],"sources":["/Users/jasonsmacbookpro2022/Documents/RepSpheres-Platform/repspheres-homepage-main/src/components/AnimatedOrbHeroBG.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Box from '@mui/material/Box';\nimport { useOrbContext } from './OrbContextProvider';\n\n// Cache trig tables so we don't recalc sines/cosines each frame\nconst trigTableCache = new Map();\n\nconst getTrigTables = (points) => {\n  const cached = trigTableCache.get(points);\n  if (cached) return cached;\n  const angles = new Array(points);\n  const sin = new Array(points);\n  const cos = new Array(points);\n  for (let i = 0; i < points; i++) {\n    const angle = (Math.PI * 2 * i) / points;\n    angles[i] = angle;\n    sin[i] = Math.sin(angle);\n    cos[i] = Math.cos(angle);\n  }\n  const tables = { angles, sin, cos };\n  trigTableCache.set(points, tables);\n  return tables;\n};\n\nconst AnimatedOrbHeroBG = ({ zIndex = 0, sx = {}, style = {}, className = \"\" }) => {\n  const svgRef = useRef(null);\n  const canvasRef = useRef(null);\n  const parentOrbRef = useRef(null);\n  const childrenGroupRef = useRef(null);\n\n  // Refs to store mutable values that don't trigger re-renders\n  const orbStatesRef = useRef([]);\n  const childOrbsRef = useRef([]);\n  const particlesRef = useRef([]);\n  const viewportSizeRef = useRef({ vw: 800, vh: 800 });\n  const parentCenterBaseRef = useRef({ x: 400, y: 400 });\n  const parentCenterRef = useRef({ x: 400, y: 400 });\n  const orbScaleRef = useRef(1);\n  const lastWheelTimeRef = useRef(0);\n  const animationFrameIdRef = useRef(null);\n  \n  // New refs for enhanced features\n  const scrollPositionRef = useRef(0);\n  const scrollVelocityRef = useRef(0);\n  const lastScrollTimeRef = useRef(0);\n  const orbReturnAnimationsRef = useRef([]);\n  const mousePositionRef = useRef({ x: 0, y: 0 });\n  const isHeroVisibleRef = useRef(true);\n  const childPositionsRef = useRef([]);\n  const parentVelocityRef = useRef({ x: 0, y: 0 });\n  const dataTransmissionsRef = useRef([]);\n  const lastTransmissionTimeRef = useRef({});\n  const scrollDirectionRef = useRef('up');\n  const lastScrollYRef = useRef(0);\n  const orbsDispersedRef = useRef(false);\n\n  const childCount = 5;\n  const parentRadius = 36; // 20% smaller than 45\n  const childRadius = 14; // 20% smaller than 18\n  const parentPoints = 64; // Balanced for performance\n  const childPoints = 32; // Optimized for smooth performance\n  const childAmp = 0.3; // Reduced amplitude for smoother shapes\n  const orbMorphDirections = [];\n  const orbMorphSpeeds = [];\n\n  // --- Utility functions ---\n  const hslToHex = (h, s, l) => {\n    h /= 360; s /= 100; l /= 100;\n    let r, g, b;\n    if (s === 0) { r = g = b = l; }\n    else {\n      const hue2rgb = (p, q, t) => {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1/6) return p + (q - p) * 6 * t;\n        if (t < 1/2) return q;\n        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n      };\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      const p = 2 * l - q;\n      r = hue2rgb(p, q, h + 1/3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1/3);\n    }\n    return \"#\" + [r, g, b].map(x => Math.round(x * 255).toString(16).padStart(2, \"0\")).join(\"\");\n  };\n\n  const lerpColor = (a, b, t) => {\n    const ah = parseInt(a.replace('#', ''), 16), bh = parseInt(b.replace('#', ''), 16);\n    const ar = (ah >> 16) & 0xff, ag = (ah >> 8) & 0xff, ab = ah & 0xff;\n    const br = (bh >> 16) & 0xff, bg = (bh >> 8) & 0xff, bb = bh & 0xff;\n    const rr = Math.round(ar + (br - ar) * t);\n    const rg = Math.round(ag + (bg - ag) * t);\n    const rb = Math.round(ab + (bb - ab) * t);\n    return '#' + ((1 << 24) + (rr << 16) + (rg << 8) + rb).toString(16).slice(1);\n  };\n\n  const generateSuperSmoothBlob = (cx, cy, r, points, t, amp = 1, phase = 0) => {\n    const { angles, sin, cos } = getTrigTables(points);\n    const pts = [];\n    for (let i = 0; i < points; i++) {\n      const angle = angles[i];\n      // Full complexity noise for ethereal effect\n      const noise =\n        Math.sin(angle * 3 + t * 0.7 + phase) * 1.5 * amp +\n        Math.sin(angle * 5 - t * 1.1 + phase) * 0.8 * amp +\n        Math.sin(angle * 2 + t * 1.7 + phase) * 0.5 * amp;\n      const rad = r + noise;\n      pts.push({\n        x: cx + cos[i] * rad,\n        y: cy + sin[i] * rad\n      });\n    }\n    let d = \"\";\n    for (let i = 0; i < points; i++) {\n      const p0 = pts[(i - 1 + points) % points];\n      const p1 = pts[i];\n      const p2 = pts[(i + 1) % points];\n      const p3 = pts[(i + 2) % points];\n      if (i === 0) {\n        d += `M${p1.x.toFixed(2)},${p1.y.toFixed(2)}`;\n      }\n      const c1x = p1.x + (p2.x - p0.x) / 6;\n      const c1y = p1.y + (p2.y - p0.y) / 6;\n      const c2x = p2.x - (p3.x - p1.x) / 6;\n      const c2y = p2.y - (p3.y - p1.y) / 6;\n      d += ` C${c1x.toFixed(2)},${c1y.toFixed(2)} ${c2x.toFixed(2)},${c2y.toFixed(2)} ${p2.x.toFixed(2)},${p2.y.toFixed(2)}`;\n    }\n    d += \"Z\";\n    return d;\n  };\n\n  const getDynamicColorFamily = (i, now) => {\n    const baseHue = (i * 67 + now * 0.018) % 360;\n    const hue2 = (baseHue + 40 + 20 * Math.sin(now * 0.0007 + i)) % 360;\n    const sat = 80 + 10 * Math.sin(now * 0.0005 + i);\n    const light1 = 60 + 10 * Math.cos(now * 0.0004 + i * 2);\n    const light2 = 35 + 15 * Math.sin(now * 0.0006 + i * 3);\n    return [hslToHex(baseHue, sat, light1), hslToHex(hue2, sat, light2)];\n  };\n  \n  const approach = (current, target, speed) => {\n    return current + (target - current) * speed;\n  };\n\n  const dampedSpring = (current, target, velocity, stiffness, damping) => {\n    const force = (target - current) * stiffness;\n    velocity += force;\n    velocity *= damping;\n    current += velocity;\n    return [current, velocity];\n  };\n\n  const emitParticles = (x, y, color, count = 2, i = 0, now = 0) => {\n    if (!particlesRef.current) particlesRef.current = [];\n    for (let j = 0; j < count; j++) {\n      let h = (i * 67 + now * 0.018) % 360 + (Math.random() - 0.5) * 24;\n      let s = 85 + Math.random() * 10;\n      let l = 55 + Math.random() * 20;\n      const particleColor = hslToHex(h, s, l);\n      const angle = Math.random() * 2 * Math.PI;\n      const speed = 0.4 + Math.random() * 0.7;\n      const vx = Math.cos(angle) * speed;\n      const vy = Math.sin(angle) * speed;\n      particlesRef.current.push({\n        x, y, vx, vy,\n        r: 1.1 + Math.random() * 1.2,\n        life: 0.6,\n        decay: 0.025 + Math.random() * 0.015,\n        color: particleColor,\n        opacity: 0.45\n      });\n    }\n  };\n\n\n  const createDataTransmission = (childIndex, childX, childY, parentX, parentY, color) => {\n    const transmissionId = `${childIndex}_${Date.now()}`;\n    // Create multiple particles for a stream effect\n    for (let p = 0; p < 3; p++) {\n      dataTransmissionsRef.current.push({\n        id: `${transmissionId}_${p}`,\n        childIndex,\n        startX: childX,\n        startY: childY,\n        endX: parentX,\n        endY: parentY,\n        progress: -p * 0.15, // Stagger the particles\n        color,\n        opacity: 0.6, // More visible effect\n        particleIndex: p,\n      });\n    }\n  };\n\n  const updateDataTransmissions = () => {\n    const transmissionsGroup = svgRef.current?.querySelector('#dataTransmissions');\n    if (!transmissionsGroup) return;\n    \n    // Clear previous transmissions\n    transmissionsGroup.innerHTML = '';\n    \n    // Update and filter active transmissions\n    dataTransmissionsRef.current = dataTransmissionsRef.current.filter(t => t.progress < 1);\n    \n    for (const transmission of dataTransmissionsRef.current) {\n      transmission.progress += 0.025; // Moderate transmission speed\n      \n      if (transmission.progress < 1 && transmission.progress > 0) {\n        // Create a data packet visualization\n        const t = Math.max(0, Math.min(1, transmission.progress));\n        \n        // Add some curve to the path\n        const curve = Math.sin(t * Math.PI) * 20;\n        const angle = Math.atan2(transmission.endY - transmission.startY, transmission.endX - transmission.startX);\n        const perpX = -Math.sin(angle) * curve;\n        const perpY = Math.cos(angle) * curve;\n        \n        const currentX = transmission.startX + (transmission.endX - transmission.startX) * t + perpX;\n        const currentY = transmission.startY + (transmission.endY - transmission.startY) * t + perpY;\n        \n        // Data packet (glowing orb)\n        const packet = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        packet.setAttribute(\"cx\", currentX.toFixed(1));\n        packet.setAttribute(\"cy\", currentY.toFixed(1));\n        packet.setAttribute(\"r\", (4 - transmission.particleIndex * 0.5).toFixed(1));\n        packet.setAttribute(\"fill\", transmission.color);\n        packet.setAttribute(\"opacity\", (transmission.opacity * (1 - t * 0.2) * (1 - transmission.particleIndex * 0.2)).toFixed(2));\n        packet.setAttribute(\"filter\", \"url(#dataGlow)\");\n        \n        transmissionsGroup.appendChild(packet);\n        \n        // Trail effect\n        if (transmission.particleIndex === 0) {\n          const trail = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n          const trailLength = 0.15;\n          const trailStart = Math.max(0, t - trailLength);\n          const startX = transmission.startX + (transmission.endX - transmission.startX) * trailStart + perpX * trailStart / t;\n          const startY = transmission.startY + (transmission.endY - transmission.startY) * trailStart + perpY * trailStart / t;\n          \n          trail.setAttribute(\"x1\", startX.toFixed(1));\n          trail.setAttribute(\"y1\", startY.toFixed(1));\n          trail.setAttribute(\"x2\", currentX.toFixed(1));\n          trail.setAttribute(\"y2\", currentY.toFixed(1));\n          trail.setAttribute(\"stroke\", transmission.color);\n          trail.setAttribute(\"stroke-width\", \"1\");\n          trail.setAttribute(\"opacity\", (transmission.opacity * 0.3 * (1 - t)).toFixed(2));\n          trail.setAttribute(\"stroke-linecap\", \"round\");\n          \n          transmissionsGroup.appendChild(trail);\n        }\n      }\n    }\n  };\n\n  // Canvas-based particle rendering for performance\n  const renderCanvas = (ctx, now) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    // Draw particles only\n    particlesRef.current = particlesRef.current.filter(p => p.life > 0);\n    \n    for (const p of particlesRef.current) {\n      p.x += p.vx;\n      p.y += p.vy;\n      p.vx *= 0.98;\n      p.vy *= 0.98;\n      p.life -= p.decay;\n      p.opacity = Math.max(0, p.life);\n      \n      ctx.globalAlpha = p.opacity * 0.7;\n      ctx.fillStyle = p.color;\n      ctx.beginPath();\n      ctx.arc(p.x, p.y, p.r * p.opacity, 0, Math.PI * 2);\n      ctx.fill();\n    }\n  };\n\n  // Get the context to update gradient colors\n  const { updateGradientColors } = useOrbContext();\n\n  useEffect(() => {\n    const svg = svgRef.current;\n    const canvas = canvasRef.current;\n    if (!svg || !canvas) {\n      console.error('SVG or Canvas not initialized');\n      return;\n    }\n\n    // Set canvas size\n    const updateCanvasSize = () => {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    };\n    updateCanvasSize();\n    window.addEventListener('resize', updateCanvasSize);\n\n    const ctx = canvas.getContext('2d');\n\n    // Precompute trig tables for parent and child point counts\n    getTrigTables(parentPoints);\n    getTrigTables(childPoints);\n\n    parentOrbRef.current = svg.querySelector('#parentOrb');\n    childrenGroupRef.current = svg.querySelector('#children');\n    \n    const makeOrbState = () => ({\n      drag: 0, dragTarget: 0, dragV: 0,\n      squash: 0, squashTarget: 0, squashV: 0,\n      mouseDir: 0, mouseDirTarget: 0, mouseDirV: 0,\n      wobble: 0, lastUpdate: performance.now(),\n      parallaxOffset: { x: 0, y: 0 },\n      parallaxVelocity: { x: 0, y: 0 },\n      isReturning: false, returnProgress: 0,\n      position: { x: 0, y: 0, z: 0 },\n      velocity: { x: 0, y: 0, z: 0 },\n      dispersed: false,\n      disperseTarget: { x: 0, y: 0 },\n      disperseProgress: 0,\n      assembleProgress: 1,\n      // 3D Orbital parameters\n      orbitalAngle: Math.random() * Math.PI * 2,  // Random starting angle\n      orbitalRadius: 70, // Default radius\n      orbitalInclination: 0, // Tilt of orbital plane\n      orbitalEccentricity: 0.5, // Default elliptical\n      orbitalSpeed: 1, // Default speed\n      orbitalPhase: 0, // Phase offset for variety\n      orbitalTilt: 0, // Additional axis tilt\n      // Dynamic orbital changes\n      orbitalPerturbation: { x: 0, y: 0, z: 0 }, // Temporary deviations\n      orbitalTarget: { radius: 0, inclination: 0, eccentricity: 0 }, // Target state to return to\n      wasVisible: true,\n    });\n\n\n    orbMorphDirections.length = 0;\n    orbMorphSpeeds.length = 0;\n    orbMorphDirections.push(Math.PI / 2); \n    orbMorphSpeeds.push(0.012);\n    for (let i = 0; i < childCount; i++) {\n      const angle = Math.PI / 2 + (i - (childCount - 1) / 2) * (Math.PI / 8) + (Math.random() - 0.5) * (Math.PI / 12);\n      orbMorphDirections.push(angle);\n      orbMorphSpeeds.push(0.014 + i * 0.004 + Math.random() * 0.003);\n    }\n\n    orbStatesRef.current = [makeOrbState()]; // Parent\n    childOrbsRef.current = [];\n    childPositionsRef.current = [];\n    if (childrenGroupRef.current) {\n        childrenGroupRef.current.innerHTML = '';\n        for (let i = 0; i < childCount; i++) {\n            const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n            path.setAttribute(\"fill\", `url(#childGrad${i})`); \n            path.setAttribute(\"opacity\", \"0.95\");\n            childrenGroupRef.current.appendChild(path);\n            childOrbsRef.current.push(path);\n            const childState = makeOrbState();\n            // Initialize 3D orbital parameters - each child gets unique orbit\n            childState.orbitalAngle = Math.random() * 2 * Math.PI; // Random starting position\n            childState.initialAngle = childState.orbitalAngle; // Store initial angle\n            \n            // Create completely unique orbital parameters for each child\n            const uniqueRadius = 80 + Math.random() * 80; // Radius between 80-160 for more space\n            const uniqueInclination = (Math.random() - 0.5) * Math.PI / 3; // Random tilt\n            const uniqueEccentricity = 0.1 + Math.random() * 0.7; // From nearly circular to very elliptical\n            const uniqueSpeed = 0.5 + Math.random() * 1.0; // Speed varies from 0.5x to 1.5x\n            \n            // Additional unique parameters for complex motion\n            childState.orbitalWobbleSpeed = 0.5 + Math.random() * 1.0; // How fast the orbit wobbles\n            childState.orbitalWobbleAmount = 0.05 + Math.random() * 0.15; // How much the orbit wobbles\n            childState.radiusOscillationSpeed = 0.3 + Math.random() * 0.7; // How fast radius changes\n            childState.radiusOscillationAmount = 10 + Math.random() * 30; // How much radius changes (increased for more variation)\n            \n            const variation = {\n              radius: uniqueRadius,\n              inclination: uniqueInclination,\n              eccentricity: uniqueEccentricity,\n              speed: uniqueSpeed\n            };\n            childState.orbitalRadius = variation.radius;\n            childState.orbitalInclination = variation.inclination;\n            childState.orbitalEccentricity = variation.eccentricity;\n            childState.orbitalSpeed = variation.speed;\n            childState.orbitalPhase = i * Math.PI / 3; // Different start phases\n            childState.orbitalTilt = 0; // No additional tilt\n            // Set targets for organized return\n            childState.orbitalTarget = {\n              radius: childState.orbitalRadius,\n              inclination: childState.orbitalInclination,\n              eccentricity: childState.orbitalEccentricity\n            };\n            orbStatesRef.current.push(childState);\n            childPositionsRef.current.push({ x: 0, y: 0, z: 0 });\n        }\n    }\n\n    const adjustSVGSize = () => {\n      const vw = window.innerWidth;\n      const vh = window.innerHeight;\n      viewportSizeRef.current = { vw, vh };\n      \n      const maxChildIndex = childCount - 1;\n      const maxOrbit = parentRadius + 120 + maxChildIndex * 40;\n      const maxReach = maxOrbit + childRadius + 8;\n      const minDim = Math.min(vw, vh);\n      const scale = minDim / (maxReach * 2);\n      \n      svg.setAttribute('width', vw.toString());\n      svg.setAttribute('height', vh.toString());\n      svg.setAttribute('viewBox', `0 0 ${vw} ${vh}`);\n      \n      // Position between navbar (height ~80px) and title (starts around 15% of viewport)\n      const navbarHeight = 80; // Approximate navbar height\n      const titleStartY = vh * 0.15; // Where title starts (from HeroSection pt values)\n      \n      // Calculate max orbital extent (largest orbit + child radius)\n      const maxOrbitalRadius = 95; // Largest orbit from orbital variations\n      const totalMaxRadius = maxOrbitalRadius + childRadius + 10; // Add buffer\n      \n      // Start orbs at navbar level (right side)\n      const minY = navbarHeight - 20; // Can overlap with navbar bottom\n      const maxY = navbarHeight + 80; // Keep orbs very high up\n      const centerY = navbarHeight; // Start position at navbar level\n      \n      // Dynamic positioning based on screen size\n      const isMobile = vw < 768;\n      const isTablet = vw >= 768 && vw < 1024;\n      \n      let rightOffset;\n      let dynamicScale;\n      \n      if (isMobile) {\n        rightOffset = 20; // Slight right offset on mobile\n        // Ensure orbs fit within viewport minus navbar\n        const availableHeight = vh - navbarHeight - 40; // 40px bottom buffer\n        const availableWidth = vw - 40; // 20px margins\n        const maxDimension = Math.min(availableWidth, availableHeight);\n        dynamicScale = Math.min(0.85, maxDimension / (totalMaxRadius * 2.2));\n      } else if (isTablet) {\n        rightOffset = vw * 0.1;\n        dynamicScale = 0.95;\n      } else {\n        rightOffset = Math.min(100, vw * 0.08); // Position further right, under nav buttons\n        dynamicScale = 1;\n      }\n      \n      const finalScale = scale * dynamicScale;\n      \n      parentCenterBaseRef.current = { x: vw * 0.5 + rightOffset, y: centerY };\n      parentCenterRef.current = { x: vw * 0.5 + rightOffset, y: centerY };\n      orbScaleRef.current = finalScale;\n    };\n\n    adjustSVGSize();\n    window.addEventListener('resize', adjustSVGSize);\n\n    // Mouse move handler for cursor effect\n    const handleMouseMove = (e) => {\n      const rect = svg.getBoundingClientRect();\n      mousePositionRef.current = {\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      };\n    };\n\n    window.addEventListener('mousemove', handleMouseMove);\n\n    // Enhanced scroll handling - only affects parent orb\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      const now = performance.now();\n      const dt = now - lastScrollTimeRef.current;\n      \n      if (dt > 0) {\n        scrollVelocityRef.current = (scrollY - scrollPositionRef.current) / dt * 120;\n      }\n      \n      scrollPositionRef.current = scrollY;\n      lastScrollTimeRef.current = now;\n      \n      const heroHeight = window.innerHeight;\n      const scrollProgress = Math.min(scrollY / heroHeight, 1);\n      \n      // Always keep animation running\n      if (!animationFrameIdRef.current) {\n        animationFrameIdRef.current = requestAnimationFrame(animate);\n      }\n      \n      // Only parent orb responds to scroll - much gentler\n      const parentState = orbStatesRef.current[0];\n      if (parentState) {\n        parentState.dragTarget += scrollVelocityRef.current * 0.3;\n        parentVelocityRef.current.y = scrollVelocityRef.current * 0.15;\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    const handleWheel = (e) => {\n      const now = performance.now();\n      const dt = Math.max(1, now - lastWheelTimeRef.current);\n      lastWheelTimeRef.current = now;\n      const velocity = Math.max(-80, Math.min(80, e.deltaY / dt * 120));\n      \n      // Only affect parent orb with wheel\n      const parentState = orbStatesRef.current[0];\n      if (parentState && orbMorphDirections[0] !== undefined) {\n        const angle = orbMorphDirections[0];\n        parentState.dragTarget += (Math.sin(angle) * velocity * 1.8 + Math.cos(angle) * velocity * 0.7);\n      }\n      e.preventDefault();\n    };\n    \n    const eventTarget = svg;\n    eventTarget.addEventListener('wheel', handleWheel, { passive: false });\n\n    const animate = () => {\n      if (!svgRef.current || !parentOrbRef.current || !childrenGroupRef.current) {\n        animationFrameIdRef.current = requestAnimationFrame(animate);\n        return;\n      }\n\n      // Always continue animation - never stop\n\n      const now = performance.now();\n      \n      // Update gradient colors in context for navbar orb\n      const baseHue = (now * 0.01) % 360;\n      const startHue = baseHue;\n      const endHue = (baseHue + 60 * Math.sin(now * 0.00015 + Math.PI * 0.5)) % 360;\n      const startColor = hslToHex(startHue, 80, 60);\n      const endColor = hslToHex(endHue, 80, 60);\n      updateGradientColors({ start: startColor, end: endColor });\n      \n      const parentStops = [\n        { id: \"p0\", phase: 0 }, { id: \"p1\", phase: Math.PI * 0.5 },\n        { id: \"p2\", phase: Math.PI }, { id: \"p3\", phase: Math.PI * 1.5 }\n      ];\n      for (let i = 0; i < parentStops.length; i++) {\n        const stop = parentStops[i];\n        const hue = (baseHue + 60 * Math.sin(now * 0.00015 + stop.phase)) % 360;\n        const sat = 80 + 10 * Math.sin(now * 0.0002 + stop.phase);\n        const light = 60 + 10 * Math.cos(now * 0.00018 + stop.phase);\n        const stopEl = svgRef.current.querySelector(`#${stop.id}`);\n        if (stopEl) stopEl.setAttribute(\"stop-color\", hslToHex(hue, sat, light));\n      }\n\n      // Update parent orb physics\n      const parentState = orbStatesRef.current[0];\n      if (parentState && orbMorphDirections[0] !== undefined) {\n        const spring = 0.06 * (1 + orbMorphSpeeds[0]);\n        const damping = 0.94 - orbMorphSpeeds[0] * 0.2;\n        [parentState.drag, parentState.dragV] = dampedSpring(parentState.drag, parentState.dragTarget, parentState.dragV, spring, damping);\n        if (Math.abs(parentState.dragTarget) < 0.1 && Math.abs(parentState.drag) > 0.1) {\n          parentState.wobble += 0.04 + orbMorphSpeeds[0] * 0.9;\n          parentState.drag += Math.sin(parentState.wobble) * Math.max(0, Math.abs(parentState.drag) * 0.13 * (1 + orbMorphSpeeds[0]));\n        } else if (Math.abs(parentState.dragTarget) < 0.1) {\n          parentState.wobble = 0;\n        }\n        parentState.dragTarget = approach(parentState.dragTarget, 0, 0.025 + orbMorphSpeeds[0] * 0.4);\n      }\n      \n      // Update parent orb position\n      if (parentState && orbMorphDirections[0] !== undefined) {\n        const parentMorphT = now * 0.00015; // Much slower morphing\n        const parentDrag = parentState.drag;\n        const parentAngle = orbMorphDirections[0];\n        const parentDx = Math.cos(parentAngle) * parentDrag;\n        const parentDy = Math.sin(parentAngle) * parentDrag;\n        const scale = orbScaleRef.current || 1;\n        \n        const { vw, vh } = viewportSizeRef.current;\n        \n        // Define safe zones based on navbar and orb dimensions\n        const navbarHeight = 80;\n        const maxOrbitalRadius = 95;\n        const totalMaxRadius = maxOrbitalRadius + childRadius + 10;\n        \n        // Gentler cursor effect\n        const mouseX = mousePositionRef.current.x;\n        const mouseY = mousePositionRef.current.y;\n        const mouseDx = mouseX - parentCenterBaseRef.current.x;\n        const mouseDy = mouseY - parentCenterBaseRef.current.y;\n        const mouseDistance = Math.sqrt(mouseDx * mouseDx + mouseDy * mouseDy);\n        const maxMouseEffect = 20;\n        const mouseEffect = Math.max(0, 1 - mouseDistance / 400) * maxMouseEffect;\n        \n        // Smoother velocity damping\n        parentVelocityRef.current.x *= 0.97;\n        parentVelocityRef.current.y *= 0.96;\n        \n        // Gentler scroll response with bounds checking\n        const scrollOffset = Math.max(-50, Math.min(50, scrollPositionRef.current * -0.08));\n        \n        // Subtle floating motion\n        const floatX = Math.sin(now * 0.0001) * 15 + Math.cos(now * 0.00015) * 10;\n        const floatY = Math.cos(now * 0.00012) * 10 + Math.sin(now * 0.00008) * 8;\n        \n        const px = parentCenterBaseRef.current.x + \n                   floatX +\n                   (mouseDx / mouseDistance || 0) * mouseEffect +\n                   parentVelocityRef.current.x;\n        // Calculate parent Y with bounds to prevent navbar overlap\n        const baseY = parentCenterBaseRef.current.y;\n        const proposedY = baseY + \n                         floatY +\n                         (mouseDy / mouseDistance || 0) * mouseEffect +\n                         parentVelocityRef.current.y +\n                         scrollOffset;\n        \n        // Keep orb at navbar level\n        const safeMinY = navbarHeight - 30; // Allow overlap with navbar\n        const safeMaxY = navbarHeight + 60; // Very constrained to top\n        const py = Math.min(safeMaxY, Math.max(safeMinY, proposedY));\n        \n        parentCenterRef.current = { x: px, y: py };\n\n        // Scale parent based on scroll - enlarges when scrolling\n        const scrollScale = 1 + Math.abs(scrollVelocityRef.current) * 0.0002;\n        const dispersalScale = orbsDispersedRef.current ? 1.2 : 1;\n        const parentR = (parentRadius + parentDrag * 0.15) * scale * scrollScale * dispersalScale;\n        const parentAmp = (1 + Math.abs(parentDrag) * 0.008) * scale;\n        const parentPath = generateSuperSmoothBlob(px + parentDx * scale, py + parentDy * scale, parentR, parentPoints, parentMorphT, parentAmp);\n        if (parentOrbRef.current) parentOrbRef.current.setAttribute('d', parentPath);\n      }\n\n      // Update child orbs\n      if (childrenGroupRef.current && childOrbsRef.current.length === childCount) {\n        // Remove group rotation - each child moves independently\n        childrenGroupRef.current.style.transform = 'none';\n        // Create array with indices for z-sorting\n        const childIndices = Array.from({ length: childCount }, (_, i) => i);\n        \n        // Sort by z-position (back to front)\n        childIndices.sort((a, b) => {\n          const stateA = orbStatesRef.current[a + 1];\n          const stateB = orbStatesRef.current[b + 1];\n          return (stateA?.position?.z || 0) - (stateB?.position?.z || 0);\n        });\n        \n        for (let idx = 0; idx < childCount; idx++) {\n          const i = childIndices[idx];\n          const state = orbStatesRef.current[i + 1];\n          if (!state || orbMorphDirections[i+1] === undefined) continue;\n\n          // Minimal physics for child orbs to reduce interference with orbital motion\n          state.drag *= 0.95; // Simple damping\n          state.dragTarget = 0;\n\n          const fam = getDynamicColorFamily(i, now);\n          const tcol = 0.5 + 0.5 * Math.sin(now * 0.0005 + i);\n          const childColor = lerpColor(fam[0], fam[1], tcol);\n          const childGradStop0 = svgRef.current.querySelector(`#c${i}s0`);\n          const childGradStop1 = svgRef.current.querySelector(`#c${i}s1`);\n          if (childGradStop0) childGradStop0.setAttribute(\"stop-color\", childColor);\n          if (childGradStop1) childGradStop1.setAttribute(\"stop-color\", lerpColor(fam[1], fam[0], tcol));\n          \n          // Independent orbital motion for each child\n          if (state.orbitalAngle === undefined || isNaN(state.orbitalAngle)) {\n            state.orbitalAngle = (i * 2 * Math.PI / childCount);\n          }\n          // Smooth flowing speed with dynamic variations\n          const speed = state.orbitalSpeed || 1;\n          state.orbitalAngle += speed * 0.008; // 4x faster but still smooth\n          const angle = state.orbitalAngle;\n          \n          // Add unique orbital wobble and distance variation for each orb\n          const wobbleTime = now * 0.0001;\n          const radiusVariation = Math.sin(wobbleTime * (state.radiusOscillationSpeed || 0.5) + i * Math.PI) * (state.radiusOscillationAmount || 15);\n          const pathWobble = Math.sin(wobbleTime * 1.7 + i) * (state.orbitalWobbleAmount || 0.1);\n          \n          // No perturbations for stable orbits\n          state.orbitalPerturbation.x = 0;\n          state.orbitalPerturbation.y = 0;\n          state.orbitalPerturbation.z = 0;\n          \n          const { vw, vh } = viewportSizeRef.current;\n          const currentParentR = (parentRadius + (orbStatesRef.current[0]?.drag || 0) * 0.15) * (orbScaleRef.current || 1);\n          \n          // Dynamic elliptical orbital calculations\n          const baseRadius = state.orbitalRadius || 70;\n          const r = baseRadius + radiusVariation; // Varying radius\n          const e = state.orbitalEccentricity || 0.5;\n          \n          // Each orb's ellipse rotates at its own unique speed\n          const ellipseRotation = wobbleTime * (state.orbitalWobbleSpeed || 0.7) + state.initialAngle;\n          \n          // Calculate elliptical orbital position with dynamic eccentricity\n          const dynamicEccentricity = e + Math.sin(wobbleTime * 0.7 + i * 2) * 0.2;\n          const a = r; // Semi-major axis\n          const b = r * (1 - dynamicEccentricity * 0.5); // Semi-minor axis varies\n          \n          // Apply rotation to ellipse\n          const baseX = a * Math.cos(angle + pathWobble);\n          const baseY = b * Math.sin(angle + pathWobble);\n          const orbitalX = baseX * Math.cos(ellipseRotation) - baseY * Math.sin(ellipseRotation);\n          const orbitalY = baseX * Math.sin(ellipseRotation) + baseY * Math.cos(ellipseRotation);\n          \n          // Enhanced 3D motion with vertical oscillation\n          const inclination = state.orbitalInclination + Math.sin(wobbleTime * 0.5 + i) * 0.2;\n          const verticalOscillation = Math.sin(wobbleTime * 0.8 + i * Math.PI / 2) * 10;\n          \n          const finalX = orbitalX;\n          const finalY = orbitalY * Math.cos(inclination) + verticalOscillation;\n          const finalZ = orbitalY * Math.sin(inclination);\n          \n          // Project 3D to 2D with perspective\n          const perspective = 800;\n          const scale3D = perspective / (perspective + finalZ);\n          \n          // Get parent's current position (including any mouse effects from parent orb state)\n          const parentState = orbStatesRef.current[0];\n          const parentDrag = parentState?.drag || 0;\n          const parentDragAngle = orbMorphDirections[0] || 0;\n          const parentDx = Math.cos(parentDragAngle) * parentDrag;\n          const parentDy = Math.sin(parentDragAngle) * parentDrag;\n          const scale = orbScaleRef.current || 1;\n          \n          const parentX = parentCenterRef.current.x + parentDx * scale;\n          const parentY = parentCenterRef.current.y + parentDy * scale;\n          \n          // Position child relative to parent's actual position using orbital calculations\n          const childX = parentX + finalX * scale3D * scale;\n          const childY = parentY + finalY * scale3D * scale;\n          \n          // Store 3D position\n          state.position.z = finalZ;\n          \n          // Remove drag effects for stable orbits\n          const dx = 0;\n          const dy = 0;\n          \n          // No collision detection - keep orbits stable\n          state.velocity.x = 0;\n          state.velocity.y = 0;\n          \n          // Check collision with parent\n          const distToParent = Math.sqrt((childX - parentX) * (childX - parentX) + (childY - parentY) * (childY - parentY));\n          const minDistance = (parentRadius + childRadius) * scale * 1.2; // Add some buffer\n          \n          let bounceX = 0, bounceY = 0;\n          if (distToParent < minDistance && distToParent > 0) {\n            // Calculate bounce direction (away from parent)\n            const pushX = (childX - parentX) / distToParent;\n            const pushY = (childY - parentY) / distToParent;\n            const pushForce = (minDistance - distToParent) * 0.5;\n            bounceX = pushX * pushForce;\n            bounceY = pushY * pushForce;\n          }\n          \n          // Handle dispersal/reassembly animations\n          let x, y;\n          \n          if (state.dispersed) {\n            // Animate to dispersed position\n            state.disperseProgress = Math.min(1, state.disperseProgress + 0.02);\n            const t = state.disperseProgress;\n            const easeOut = 1 - Math.pow(1 - t, 3);\n            x = childX + (state.disperseTarget.x - childX) * easeOut;\n            y = childY + (state.disperseTarget.y - childY) * easeOut;\n          } else if (state.assembleProgress < 1) {\n            // Animate reassembly from below/behind\n            state.assembleProgress = Math.min(1, state.assembleProgress + 0.015);\n            const t = state.assembleProgress;\n            const easeInOut = t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2;\n            \n            // Start from below and behind\n            const startX = state.disperseTarget.x || childX;\n            const startY = viewportSizeRef.current.vh + 100;\n            \n            x = startX + (childX - startX) * easeInOut;\n            y = startY + (childY - startY) * easeInOut;\n          } else {\n            // Normal orbital motion - use the calculated orbital position\n            x = childX + dx + bounceX;\n            y = childY + dy + bounceY;\n          }\n          \n          // Apply depth-based scaling and dimming - children get smaller when scrolling\n          const scrollChildScale = 1 - Math.abs(scrollVelocityRef.current) * 0.0001;\n          const dispersalChildScale = state.dispersed ? 0.7 : 1;\n          const depthScale = scale3D * 0.8 + 0.2; // Keep minimum 20% size\n          const depthOpacity = scale3D * 0.7 + 0.3; // Keep minimum 30% opacity\n          \n          const cR = (childRadius + state.drag * 0.08) * scale * depthScale * scrollChildScale * dispersalChildScale;\n          const currentChildAmp = (childAmp + Math.abs(state.drag) * 0.006) * scale * depthScale;\n          const morphT = now * 0.0002 + i * 10; // Slower morphing\n          \n          const childPath = generateSuperSmoothBlob(x, y, cR, childPoints, morphT, currentChildAmp, i);\n          \n          \n          const path = childOrbsRef.current[i];\n          if (path) {\n            path.setAttribute(\"d\", childPath);\n            \n            const fadeStart = 40, fadeEnd = 340;\n            const fade = Math.min(1, Math.max(0, (fadeEnd - Math.abs(state.dragTarget)) / (fadeEnd - fadeStart)));\n            \n            if (state.wasVisible === undefined) state.wasVisible = fade > 0.5;\n\n            if (fade < 0.5 && fade > 0.05 && !state.isReturning) {\n              const color = lerpColor(fam[0], fam[1], tcol);\n              const emission = Math.ceil((0.5 - fade) * 8);\n              emitParticles(x, y, color, emission, i, now);\n              path.setAttribute(\"opacity\", (fade * 0.95).toFixed(2));\n            } else if (state.wasVisible && fade <= 0.05) {\n              const color = lerpColor(fam[0], fam[1], tcol);\n              emitParticles(x, y, color, 6, i, now);\n              path.setAttribute(\"opacity\", \"0\");\n              state.wasVisible = false;\n            } else if (!state.wasVisible && fade > 0.05) {\n              const color = lerpColor(fam[0], fam[1], tcol);\n              emitParticles(x, y, color, 5, i, now);\n              path.setAttribute(\"opacity\", (fade * 0.95).toFixed(2));\n              state.wasVisible = true;\n            } else {\n              // Apply depth-based opacity\n              path.setAttribute(\"opacity\", (0.95 * depthOpacity).toFixed(2));\n            }\n            \n            // Store position (for future use)\n            childPositionsRef.current[i] = { x, y, z: finalZ };\n            \n            // Check for color matching and create data transmission\n            // Get parent color\n            const parentStop0 = svgRef.current.querySelector('#p0');\n            const parentColor = parentStop0?.getAttribute('stop-color') || '#00E5FF';\n            \n            // Simple color similarity check (comparing first few characters)\n            const colorMatch = childColor.substring(0, 4) === parentColor.substring(0, 4);\n            \n            // Intermittent transmission (random chance) - reduced frequency with variation\n            const timeSinceLastTransmission = now - (lastTransmissionTimeRef.current[i] || 0);\n            const minInterval = 6000 + Math.random() * 4000; // 6-10 seconds\n            if (timeSinceLastTransmission > minInterval && Math.random() < 0.04) {\n              createDataTransmission(i, x, y, parentX, parentY, childColor);\n              lastTransmissionTimeRef.current[i] = now;\n            }\n            \n            // Update z-order in DOM\n            if (path.parentNode) {\n              path.parentNode.appendChild(path);\n            }\n          }\n        }\n      }\n      \n      // Update data transmissions\n      updateDataTransmissions();\n      \n      // Render particles on canvas\n      renderCanvas(ctx, now);\n      \n      animationFrameIdRef.current = requestAnimationFrame(animate);\n    };\n\n    animationFrameIdRef.current = requestAnimationFrame(animate);\n\n    return () => {\n      window.removeEventListener('resize', adjustSVGSize);\n      window.removeEventListener('resize', updateCanvasSize);\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('mousemove', handleMouseMove);\n      if (eventTarget) {\n        eventTarget.removeEventListener('wheel', handleWheel);\n      }\n      if (animationFrameIdRef.current) {\n        cancelAnimationFrame(animationFrameIdRef.current);\n      }\n    };\n  }, []); // Empty dependency array - only run once on mount\n\n  return (\n    <Box\n      sx={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        width: \"100vw\",\n        height: \"100vh\",\n        zIndex,\n        pointerEvents: \"none\", // Allows interaction with elements underneath\n        touchAction: 'none', // For consistency with HTML\n        background: 'transparent', // Ensure background is transparent\n        ...sx,\n      }}\n      style={style}\n      className={className}\n    >\n      <canvas\n        ref={canvasRef}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n        }}\n      />\n      <svg \n        ref={svgRef} \n        id=\"orbSVG\"\n        style={{ width: '100%', height: '100%', position: 'relative' }}\n      >\n        <defs>\n          <radialGradient id=\"parentGrad\" cx=\"50%\" cy=\"50%\" r=\"70%\">\n            <stop id=\"p0\" offset=\"0%\" stopColor=\"#00E5FF\"/>\n            <stop id=\"p1\" offset=\"100%\" stopColor=\"#5B3CFF\"/>\n            <stop id=\"p2\" offset=\"50%\" stopColor=\"#00E5FF\"/>\n            <stop id=\"p3\" offset=\"75%\" stopColor=\"#5B3CFF\"/>\n          </radialGradient>\n          <radialGradient id=\"childGrad0\" cx=\"50%\" cy=\"50%\" r=\"70%\">\n            <stop id=\"c0s0\" offset=\"0%\" stopColor=\"#B3D8FF\"/>\n            <stop id=\"c0s1\" offset=\"100%\" stopColor=\"#0A192F\"/>\n          </radialGradient>\n          <radialGradient id=\"childGrad1\" cx=\"50%\" cy=\"50%\" r=\"70%\">\n            <stop id=\"c1s0\" offset=\"0%\" stopColor=\"#C6FFD9\"/>\n            <stop id=\"c1s1\" offset=\"100%\" stopColor=\"#145A32\"/>\n          </radialGradient>\n          <radialGradient id=\"childGrad2\" cx=\"50%\" cy=\"50%\" r=\"70%\">\n            <stop id=\"c2s0\" offset=\"0%\" stopColor=\"#FFB3C9\"/>\n            <stop id=\"c2s1\" offset=\"100%\" stopColor=\"#7B1F3A\"/>\n          </radialGradient>\n          <radialGradient id=\"childGrad3\" cx=\"50%\" cy=\"50%\" r=\"70%\">\n            <stop id=\"c3s0\" offset=\"0%\" stopColor=\"#E0D1FF\"/>\n            <stop id=\"c3s1\" offset=\"100%\" stopColor=\"#311B4F\"/>\n          </radialGradient>\n          <radialGradient id=\"childGrad4\" cx=\"50%\" cy=\"50%\" r=\"70%\">\n            <stop id=\"c4s0\" offset=\"0%\" stopColor=\"#FFF5B3\"/>\n            <stop id=\"c4s1\" offset=\"100%\" stopColor=\"#4B3800\"/>\n          </radialGradient>\n          <filter id=\"glow\">\n            <feGaussianBlur stdDeviation=\"3\" result=\"coloredBlur\"/>\n            <feMerge>\n              <feMergeNode in=\"coloredBlur\"/>\n              <feMergeNode in=\"SourceGraphic\"/>\n            </feMerge>\n          </filter>\n          <filter id=\"dataGlow\">\n            <feGaussianBlur stdDeviation=\"2\" result=\"coloredBlur\"/>\n            <feColorMatrix in=\"coloredBlur\" type=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 2 0\"/>\n            <feMerge>\n              <feMergeNode in=\"coloredBlur\"/>\n              <feMergeNode in=\"SourceGraphic\"/>\n            </feMerge>\n          </filter>\n        </defs>\n        <path id=\"parentOrb\" fill=\"url(#parentGrad)\" opacity=\"0.95\"/>\n        <g id=\"dataTransmissions\"></g>\n        <g id=\"children\"></g>\n      </svg>\n    </Box>\n  );\n};\n\nexport default AnimatedOrbHeroBG;"],"mappings":"uKAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,CAAAC,GAAG,KAAM,mBAAmB,CACnC,OAASC,aAAa,KAAQ,sBAAsB,CAEpD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,cAAc,CAAG,GAAI,CAAAC,GAAG,CAAC,CAAC,CAEhC,KAAM,CAAAC,aAAa,CAAIC,MAAM,EAAK,CAChC,KAAM,CAAAC,MAAM,CAAGJ,cAAc,CAACK,GAAG,CAACF,MAAM,CAAC,CACzC,GAAIC,MAAM,CAAE,MAAO,CAAAA,MAAM,CACzB,KAAM,CAAAE,MAAM,CAAG,GAAI,CAAAC,KAAK,CAACJ,MAAM,CAAC,CAChC,KAAM,CAAAK,GAAG,CAAG,GAAI,CAAAD,KAAK,CAACJ,MAAM,CAAC,CAC7B,KAAM,CAAAM,GAAG,CAAG,GAAI,CAAAF,KAAK,CAACJ,MAAM,CAAC,CAC7B,IAAK,GAAI,CAAAO,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGP,MAAM,CAAEO,CAAC,EAAE,CAAE,CAC/B,KAAM,CAAAC,KAAK,CAAIC,IAAI,CAACC,EAAE,CAAG,CAAC,CAAGH,CAAC,CAAIP,MAAM,CACxCG,MAAM,CAACI,CAAC,CAAC,CAAGC,KAAK,CACjBH,GAAG,CAACE,CAAC,CAAC,CAAGE,IAAI,CAACJ,GAAG,CAACG,KAAK,CAAC,CACxBF,GAAG,CAACC,CAAC,CAAC,CAAGE,IAAI,CAACH,GAAG,CAACE,KAAK,CAAC,CAC1B,CACA,KAAM,CAAAG,MAAM,CAAG,CAAER,MAAM,CAAEE,GAAG,CAAEC,GAAI,CAAC,CACnCT,cAAc,CAACe,GAAG,CAACZ,MAAM,CAAEW,MAAM,CAAC,CAClC,MAAO,CAAAA,MAAM,CACf,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAGC,IAAA,EAAyD,IAAxD,CAAEC,MAAM,CAAG,CAAC,CAAEC,EAAE,CAAG,CAAC,CAAC,CAAEC,KAAK,CAAG,CAAC,CAAC,CAAEC,SAAS,CAAG,EAAG,CAAC,CAAAJ,IAAA,CAC5E,KAAM,CAAAK,MAAM,CAAG7B,MAAM,CAAC,IAAI,CAAC,CAC3B,KAAM,CAAA8B,SAAS,CAAG9B,MAAM,CAAC,IAAI,CAAC,CAC9B,KAAM,CAAA+B,YAAY,CAAG/B,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAAgC,gBAAgB,CAAGhC,MAAM,CAAC,IAAI,CAAC,CAErC;AACA,KAAM,CAAAiC,YAAY,CAAGjC,MAAM,CAAC,EAAE,CAAC,CAC/B,KAAM,CAAAkC,YAAY,CAAGlC,MAAM,CAAC,EAAE,CAAC,CAC/B,KAAM,CAAAmC,YAAY,CAAGnC,MAAM,CAAC,EAAE,CAAC,CAC/B,KAAM,CAAAoC,eAAe,CAAGpC,MAAM,CAAC,CAAEqC,EAAE,CAAE,GAAG,CAAEC,EAAE,CAAE,GAAI,CAAC,CAAC,CACpD,KAAM,CAAAC,mBAAmB,CAAGvC,MAAM,CAAC,CAAEwC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE,GAAI,CAAC,CAAC,CACtD,KAAM,CAAAC,eAAe,CAAG1C,MAAM,CAAC,CAAEwC,CAAC,CAAE,GAAG,CAAEC,CAAC,CAAE,GAAI,CAAC,CAAC,CAClD,KAAM,CAAAE,WAAW,CAAG3C,MAAM,CAAC,CAAC,CAAC,CAC7B,KAAM,CAAA4C,gBAAgB,CAAG5C,MAAM,CAAC,CAAC,CAAC,CAClC,KAAM,CAAA6C,mBAAmB,CAAG7C,MAAM,CAAC,IAAI,CAAC,CAExC;AACA,KAAM,CAAA8C,iBAAiB,CAAG9C,MAAM,CAAC,CAAC,CAAC,CACnC,KAAM,CAAA+C,iBAAiB,CAAG/C,MAAM,CAAC,CAAC,CAAC,CACnC,KAAM,CAAAgD,iBAAiB,CAAGhD,MAAM,CAAC,CAAC,CAAC,CACnC,KAAM,CAAAiD,sBAAsB,CAAGjD,MAAM,CAAC,EAAE,CAAC,CACzC,KAAM,CAAAkD,gBAAgB,CAAGlD,MAAM,CAAC,CAAEwC,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAAC,CAC/C,KAAM,CAAAU,gBAAgB,CAAGnD,MAAM,CAAC,IAAI,CAAC,CACrC,KAAM,CAAAoD,iBAAiB,CAAGpD,MAAM,CAAC,EAAE,CAAC,CACpC,KAAM,CAAAqD,iBAAiB,CAAGrD,MAAM,CAAC,CAAEwC,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAAC,CAChD,KAAM,CAAAa,oBAAoB,CAAGtD,MAAM,CAAC,EAAE,CAAC,CACvC,KAAM,CAAAuD,uBAAuB,CAAGvD,MAAM,CAAC,CAAC,CAAC,CAAC,CAC1C,KAAM,CAAAwD,kBAAkB,CAAGxD,MAAM,CAAC,IAAI,CAAC,CACvC,KAAM,CAAAyD,cAAc,CAAGzD,MAAM,CAAC,CAAC,CAAC,CAChC,KAAM,CAAA0D,gBAAgB,CAAG1D,MAAM,CAAC,KAAK,CAAC,CAEtC,KAAM,CAAA2D,UAAU,CAAG,CAAC,CACpB,KAAM,CAAAC,YAAY,CAAG,EAAE,CAAE;AACzB,KAAM,CAAAC,WAAW,CAAG,EAAE,CAAE;AACxB,KAAM,CAAAC,YAAY,CAAG,EAAE,CAAE;AACzB,KAAM,CAAAC,WAAW,CAAG,EAAE,CAAE;AACxB,KAAM,CAAAC,QAAQ,CAAG,GAAG,CAAE;AACtB,KAAM,CAAAC,kBAAkB,CAAG,EAAE,CAC7B,KAAM,CAAAC,cAAc,CAAG,EAAE,CAEzB;AACA,KAAM,CAAAC,QAAQ,CAAGA,CAACC,CAAC,CAAEC,CAAC,CAAEC,CAAC,GAAK,CAC5BF,CAAC,EAAI,GAAG,CAAEC,CAAC,EAAI,GAAG,CAAEC,CAAC,EAAI,GAAG,CAC5B,GAAI,CAAAC,CAAC,CAAEC,CAAC,CAAEC,CAAC,CACX,GAAIJ,CAAC,GAAK,CAAC,CAAE,CAAEE,CAAC,CAAGC,CAAC,CAAGC,CAAC,CAAGH,CAAC,CAAE,CAAC,IAC1B,CACH,KAAM,CAAAI,OAAO,CAAGA,CAACC,CAAC,CAAEC,CAAC,CAAEC,CAAC,GAAK,CAC3B,GAAIA,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAI,CAAC,CACjB,GAAIA,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAI,CAAC,CACjB,GAAIA,CAAC,CAAG,CAAC,CAAC,CAAC,CAAE,MAAO,CAAAF,CAAC,CAAG,CAACC,CAAC,CAAGD,CAAC,EAAI,CAAC,CAAGE,CAAC,CACvC,GAAIA,CAAC,CAAG,CAAC,CAAC,CAAC,CAAE,MAAO,CAAAD,CAAC,CACrB,GAAIC,CAAC,CAAG,CAAC,CAAC,CAAC,CAAE,MAAO,CAAAF,CAAC,CAAG,CAACC,CAAC,CAAGD,CAAC,GAAK,CAAC,CAAC,CAAC,CAAGE,CAAC,CAAC,CAAG,CAAC,CAC/C,MAAO,CAAAF,CAAC,CACV,CAAC,CACD,KAAM,CAAAC,CAAC,CAAGN,CAAC,CAAG,GAAG,CAAGA,CAAC,EAAI,CAAC,CAAGD,CAAC,CAAC,CAAGC,CAAC,CAAGD,CAAC,CAAGC,CAAC,CAAGD,CAAC,CAC/C,KAAM,CAAAM,CAAC,CAAG,CAAC,CAAGL,CAAC,CAAGM,CAAC,CACnBL,CAAC,CAAGG,OAAO,CAACC,CAAC,CAAEC,CAAC,CAAER,CAAC,CAAG,CAAC,CAAC,CAAC,CAAC,CAC1BI,CAAC,CAAGE,OAAO,CAACC,CAAC,CAAEC,CAAC,CAAER,CAAC,CAAC,CACpBK,CAAC,CAAGC,OAAO,CAACC,CAAC,CAAEC,CAAC,CAAER,CAAC,CAAG,CAAC,CAAC,CAAC,CAAC,CAC5B,CACA,MAAO,GAAG,CAAG,CAACG,CAAC,CAAEC,CAAC,CAAEC,CAAC,CAAC,CAACK,GAAG,CAACtC,CAAC,EAAIrB,IAAI,CAAC4D,KAAK,CAACvC,CAAC,CAAG,GAAG,CAAC,CAACwC,QAAQ,CAAC,EAAE,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAC7F,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGA,CAACC,CAAC,CAAEX,CAAC,CAAEI,CAAC,GAAK,CAC7B,KAAM,CAAAQ,EAAE,CAAGC,QAAQ,CAACF,CAAC,CAACG,OAAO,CAAC,GAAG,CAAE,EAAE,CAAC,CAAE,EAAE,CAAC,CAAEC,EAAE,CAAGF,QAAQ,CAACb,CAAC,CAACc,OAAO,CAAC,GAAG,CAAE,EAAE,CAAC,CAAE,EAAE,CAAC,CAClF,KAAM,CAAAE,EAAE,CAAIJ,EAAE,EAAI,EAAE,CAAI,IAAI,CAAEK,EAAE,CAAIL,EAAE,EAAI,CAAC,CAAI,IAAI,CAAEM,EAAE,CAAGN,EAAE,CAAG,IAAI,CACnE,KAAM,CAAAO,EAAE,CAAIJ,EAAE,EAAI,EAAE,CAAI,IAAI,CAAEK,EAAE,CAAIL,EAAE,EAAI,CAAC,CAAI,IAAI,CAAEM,EAAE,CAAGN,EAAE,CAAG,IAAI,CACnE,KAAM,CAAAO,EAAE,CAAG5E,IAAI,CAAC4D,KAAK,CAACU,EAAE,CAAG,CAACG,EAAE,CAAGH,EAAE,EAAIZ,CAAC,CAAC,CACzC,KAAM,CAAAmB,EAAE,CAAG7E,IAAI,CAAC4D,KAAK,CAACW,EAAE,CAAG,CAACG,EAAE,CAAGH,EAAE,EAAIb,CAAC,CAAC,CACzC,KAAM,CAAAoB,EAAE,CAAG9E,IAAI,CAAC4D,KAAK,CAACY,EAAE,CAAG,CAACG,EAAE,CAAGH,EAAE,EAAId,CAAC,CAAC,CACzC,MAAO,GAAG,CAAG,CAAC,CAAC,CAAC,EAAI,EAAE,GAAKkB,EAAE,EAAI,EAAE,CAAC,EAAIC,EAAE,EAAI,CAAC,CAAC,CAAGC,EAAE,EAAEjB,QAAQ,CAAC,EAAE,CAAC,CAACkB,KAAK,CAAC,CAAC,CAAC,CAC9E,CAAC,CAED,KAAM,CAAAC,uBAAuB,CAAG,QAAAA,CAACC,EAAE,CAAEC,EAAE,CAAE9B,CAAC,CAAE7D,MAAM,CAAEmE,CAAC,CAAyB,IAAvB,CAAAyB,GAAG,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,KAAK,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CACvE,KAAM,CAAE1F,MAAM,CAAEE,GAAG,CAAEC,GAAI,CAAC,CAAGP,aAAa,CAACC,MAAM,CAAC,CAClD,KAAM,CAAAiG,GAAG,CAAG,EAAE,CACd,IAAK,GAAI,CAAA1F,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGP,MAAM,CAAEO,CAAC,EAAE,CAAE,CAC/B,KAAM,CAAAC,KAAK,CAAGL,MAAM,CAACI,CAAC,CAAC,CACvB;AACA,KAAM,CAAA2F,KAAK,CACTzF,IAAI,CAACJ,GAAG,CAACG,KAAK,CAAG,CAAC,CAAG2D,CAAC,CAAG,GAAG,CAAG6B,KAAK,CAAC,CAAG,GAAG,CAAGJ,GAAG,CACjDnF,IAAI,CAACJ,GAAG,CAACG,KAAK,CAAG,CAAC,CAAG2D,CAAC,CAAG,GAAG,CAAG6B,KAAK,CAAC,CAAG,GAAG,CAAGJ,GAAG,CACjDnF,IAAI,CAACJ,GAAG,CAACG,KAAK,CAAG,CAAC,CAAG2D,CAAC,CAAG,GAAG,CAAG6B,KAAK,CAAC,CAAG,GAAG,CAAGJ,GAAG,CACnD,KAAM,CAAAO,GAAG,CAAGtC,CAAC,CAAGqC,KAAK,CACrBD,GAAG,CAACG,IAAI,CAAC,CACPtE,CAAC,CAAE4D,EAAE,CAAGpF,GAAG,CAACC,CAAC,CAAC,CAAG4F,GAAG,CACpBpE,CAAC,CAAE4D,EAAE,CAAGtF,GAAG,CAACE,CAAC,CAAC,CAAG4F,GACnB,CAAC,CAAC,CACJ,CACA,GAAI,CAAAE,CAAC,CAAG,EAAE,CACV,IAAK,GAAI,CAAA9F,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGP,MAAM,CAAEO,CAAC,EAAE,CAAE,CAC/B,KAAM,CAAA+F,EAAE,CAAGL,GAAG,CAAC,CAAC1F,CAAC,CAAG,CAAC,CAAGP,MAAM,EAAIA,MAAM,CAAC,CACzC,KAAM,CAAAuG,EAAE,CAAGN,GAAG,CAAC1F,CAAC,CAAC,CACjB,KAAM,CAAAiG,EAAE,CAAGP,GAAG,CAAC,CAAC1F,CAAC,CAAG,CAAC,EAAIP,MAAM,CAAC,CAChC,KAAM,CAAAyG,EAAE,CAAGR,GAAG,CAAC,CAAC1F,CAAC,CAAG,CAAC,EAAIP,MAAM,CAAC,CAChC,GAAIO,CAAC,GAAK,CAAC,CAAE,CACX8F,CAAC,MAAAK,MAAA,CAAQH,EAAE,CAACzE,CAAC,CAAC6E,OAAO,CAAC,CAAC,CAAC,MAAAD,MAAA,CAAIH,EAAE,CAACxE,CAAC,CAAC4E,OAAO,CAAC,CAAC,CAAC,CAAE,CAC/C,CACA,KAAM,CAAAC,GAAG,CAAGL,EAAE,CAACzE,CAAC,CAAG,CAAC0E,EAAE,CAAC1E,CAAC,CAAGwE,EAAE,CAACxE,CAAC,EAAI,CAAC,CACpC,KAAM,CAAA+E,GAAG,CAAGN,EAAE,CAACxE,CAAC,CAAG,CAACyE,EAAE,CAACzE,CAAC,CAAGuE,EAAE,CAACvE,CAAC,EAAI,CAAC,CACpC,KAAM,CAAA+E,GAAG,CAAGN,EAAE,CAAC1E,CAAC,CAAG,CAAC2E,EAAE,CAAC3E,CAAC,CAAGyE,EAAE,CAACzE,CAAC,EAAI,CAAC,CACpC,KAAM,CAAAiF,GAAG,CAAGP,EAAE,CAACzE,CAAC,CAAG,CAAC0E,EAAE,CAAC1E,CAAC,CAAGwE,EAAE,CAACxE,CAAC,EAAI,CAAC,CACpCsE,CAAC,OAAAK,MAAA,CAASE,GAAG,CAACD,OAAO,CAAC,CAAC,CAAC,MAAAD,MAAA,CAAIG,GAAG,CAACF,OAAO,CAAC,CAAC,CAAC,MAAAD,MAAA,CAAII,GAAG,CAACH,OAAO,CAAC,CAAC,CAAC,MAAAD,MAAA,CAAIK,GAAG,CAACJ,OAAO,CAAC,CAAC,CAAC,MAAAD,MAAA,CAAIF,EAAE,CAAC1E,CAAC,CAAC6E,OAAO,CAAC,CAAC,CAAC,MAAAD,MAAA,CAAIF,EAAE,CAACzE,CAAC,CAAC4E,OAAO,CAAC,CAAC,CAAC,CAAE,CACxH,CACAN,CAAC,EAAI,GAAG,CACR,MAAO,CAAAA,CAAC,CACV,CAAC,CAED,KAAM,CAAAW,qBAAqB,CAAGA,CAACzG,CAAC,CAAE0G,GAAG,GAAK,CACxC,KAAM,CAAAC,OAAO,CAAG,CAAC3G,CAAC,CAAG,EAAE,CAAG0G,GAAG,CAAG,KAAK,EAAI,GAAG,CAC5C,KAAM,CAAAE,IAAI,CAAG,CAACD,OAAO,CAAG,EAAE,CAAG,EAAE,CAAGzG,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,MAAM,CAAG1G,CAAC,CAAC,EAAI,GAAG,CACnE,KAAM,CAAA6G,GAAG,CAAG,EAAE,CAAG,EAAE,CAAG3G,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,MAAM,CAAG1G,CAAC,CAAC,CAChD,KAAM,CAAA8G,MAAM,CAAG,EAAE,CAAG,EAAE,CAAG5G,IAAI,CAACH,GAAG,CAAC2G,GAAG,CAAG,MAAM,CAAG1G,CAAC,CAAG,CAAC,CAAC,CACvD,KAAM,CAAA+G,MAAM,CAAG,EAAE,CAAG,EAAE,CAAG7G,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,MAAM,CAAG1G,CAAC,CAAG,CAAC,CAAC,CACvD,MAAO,CAACkD,QAAQ,CAACyD,OAAO,CAAEE,GAAG,CAAEC,MAAM,CAAC,CAAE5D,QAAQ,CAAC0D,IAAI,CAAEC,GAAG,CAAEE,MAAM,CAAC,CAAC,CACtE,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGA,CAACC,OAAO,CAAEC,MAAM,CAAEC,KAAK,GAAK,CAC3C,MAAO,CAAAF,OAAO,CAAG,CAACC,MAAM,CAAGD,OAAO,EAAIE,KAAK,CAC7C,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAACH,OAAO,CAAEC,MAAM,CAAEG,QAAQ,CAAEC,SAAS,CAAEC,OAAO,GAAK,CACtE,KAAM,CAAAC,KAAK,CAAG,CAACN,MAAM,CAAGD,OAAO,EAAIK,SAAS,CAC5CD,QAAQ,EAAIG,KAAK,CACjBH,QAAQ,EAAIE,OAAO,CACnBN,OAAO,EAAII,QAAQ,CACnB,MAAO,CAACJ,OAAO,CAAEI,QAAQ,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAI,aAAa,CAAG,QAAAA,CAAClG,CAAC,CAAEC,CAAC,CAAEkG,KAAK,CAAgC,IAA9B,CAAAC,KAAK,CAAArC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAtF,CAAC,CAAAsF,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAoB,GAAG,CAAApB,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAC3D,GAAI,CAACpE,YAAY,CAAC+F,OAAO,CAAE/F,YAAY,CAAC+F,OAAO,CAAG,EAAE,CACpD,IAAK,GAAI,CAAAW,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGD,KAAK,CAAEC,CAAC,EAAE,CAAE,CAC9B,GAAI,CAAAzE,CAAC,CAAG,CAACnD,CAAC,CAAG,EAAE,CAAG0G,GAAG,CAAG,KAAK,EAAI,GAAG,CAAG,CAACxG,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,EAAI,EAAE,CACjE,GAAI,CAAAzE,CAAC,CAAG,EAAE,CAAGlD,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,EAAE,CAC/B,GAAI,CAAAxE,CAAC,CAAG,EAAE,CAAGnD,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,EAAE,CAC/B,KAAM,CAAAC,aAAa,CAAG5E,QAAQ,CAACC,CAAC,CAAEC,CAAC,CAAEC,CAAC,CAAC,CACvC,KAAM,CAAApD,KAAK,CAAGC,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,CAAC,CAAG3H,IAAI,CAACC,EAAE,CACzC,KAAM,CAAAgH,KAAK,CAAG,GAAG,CAAGjH,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,CACvC,KAAM,CAAAE,EAAE,CAAG7H,IAAI,CAACH,GAAG,CAACE,KAAK,CAAC,CAAGkH,KAAK,CAClC,KAAM,CAAAa,EAAE,CAAG9H,IAAI,CAACJ,GAAG,CAACG,KAAK,CAAC,CAAGkH,KAAK,CAClCjG,YAAY,CAAC+F,OAAO,CAACpB,IAAI,CAAC,CACxBtE,CAAC,CAAEC,CAAC,CAAEuG,EAAE,CAAEC,EAAE,CACZ1E,CAAC,CAAE,GAAG,CAAGpD,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,CAC5BI,IAAI,CAAE,GAAG,CACTC,KAAK,CAAE,KAAK,CAAGhI,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,KAAK,CACpCH,KAAK,CAAEI,aAAa,CACpBK,OAAO,CAAE,IACX,CAAC,CAAC,CACJ,CACF,CAAC,CAGD,KAAM,CAAAC,sBAAsB,CAAGA,CAACC,UAAU,CAAEC,MAAM,CAAEC,MAAM,CAAEC,OAAO,CAAEC,OAAO,CAAEf,KAAK,GAAK,CACtF,KAAM,CAAAgB,cAAc,IAAAvC,MAAA,CAAMkC,UAAU,MAAAlC,MAAA,CAAIwC,IAAI,CAACjC,GAAG,CAAC,CAAC,CAAE,CACpD;AACA,IAAK,GAAI,CAAAhD,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAE,CAAE,CAC1BrB,oBAAoB,CAAC4E,OAAO,CAACpB,IAAI,CAAC,CAChC+C,EAAE,IAAAzC,MAAA,CAAKuC,cAAc,MAAAvC,MAAA,CAAIzC,CAAC,CAAE,CAC5B2E,UAAU,CACVQ,MAAM,CAAEP,MAAM,CACdQ,MAAM,CAAEP,MAAM,CACdQ,IAAI,CAAEP,OAAO,CACbQ,IAAI,CAAEP,OAAO,CACbQ,QAAQ,CAAE,CAACvF,CAAC,CAAG,IAAI,CAAE;AACrBgE,KAAK,CACLS,OAAO,CAAE,GAAG,CAAE;AACde,aAAa,CAAExF,CACjB,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAyF,uBAAuB,CAAGA,CAAA,GAAM,KAAAC,eAAA,CACpC,KAAM,CAAAC,kBAAkB,EAAAD,eAAA,CAAGxI,MAAM,CAACqG,OAAO,UAAAmC,eAAA,iBAAdA,eAAA,CAAgBE,aAAa,CAAC,oBAAoB,CAAC,CAC9E,GAAI,CAACD,kBAAkB,CAAE,OAEzB;AACAA,kBAAkB,CAACE,SAAS,CAAG,EAAE,CAEjC;AACAlH,oBAAoB,CAAC4E,OAAO,CAAG5E,oBAAoB,CAAC4E,OAAO,CAACuC,MAAM,CAAC5F,CAAC,EAAIA,CAAC,CAACqF,QAAQ,CAAG,CAAC,CAAC,CAEvF,IAAK,KAAM,CAAAQ,YAAY,GAAI,CAAApH,oBAAoB,CAAC4E,OAAO,CAAE,CACvDwC,YAAY,CAACR,QAAQ,EAAI,KAAK,CAAE;AAEhC,GAAIQ,YAAY,CAACR,QAAQ,CAAG,CAAC,EAAIQ,YAAY,CAACR,QAAQ,CAAG,CAAC,CAAE,CAC1D;AACA,KAAM,CAAArF,CAAC,CAAG1D,IAAI,CAACwJ,GAAG,CAAC,CAAC,CAAExJ,IAAI,CAACyJ,GAAG,CAAC,CAAC,CAAEF,YAAY,CAACR,QAAQ,CAAC,CAAC,CAEzD;AACA,KAAM,CAAAW,KAAK,CAAG1J,IAAI,CAACJ,GAAG,CAAC8D,CAAC,CAAG1D,IAAI,CAACC,EAAE,CAAC,CAAG,EAAE,CACxC,KAAM,CAAAF,KAAK,CAAGC,IAAI,CAAC2J,KAAK,CAACJ,YAAY,CAACT,IAAI,CAAGS,YAAY,CAACX,MAAM,CAAEW,YAAY,CAACV,IAAI,CAAGU,YAAY,CAACZ,MAAM,CAAC,CAC1G,KAAM,CAAAiB,KAAK,CAAG,CAAC5J,IAAI,CAACJ,GAAG,CAACG,KAAK,CAAC,CAAG2J,KAAK,CACtC,KAAM,CAAAG,KAAK,CAAG7J,IAAI,CAACH,GAAG,CAACE,KAAK,CAAC,CAAG2J,KAAK,CAErC,KAAM,CAAAI,QAAQ,CAAGP,YAAY,CAACZ,MAAM,CAAG,CAACY,YAAY,CAACV,IAAI,CAAGU,YAAY,CAACZ,MAAM,EAAIjF,CAAC,CAAGkG,KAAK,CAC5F,KAAM,CAAAG,QAAQ,CAAGR,YAAY,CAACX,MAAM,CAAG,CAACW,YAAY,CAACT,IAAI,CAAGS,YAAY,CAACX,MAAM,EAAIlF,CAAC,CAAGmG,KAAK,CAE5F;AACA,KAAM,CAAAG,MAAM,CAAGC,QAAQ,CAACC,eAAe,CAAC,4BAA4B,CAAE,QAAQ,CAAC,CAC/EF,MAAM,CAACG,YAAY,CAAC,IAAI,CAAEL,QAAQ,CAAC5D,OAAO,CAAC,CAAC,CAAC,CAAC,CAC9C8D,MAAM,CAACG,YAAY,CAAC,IAAI,CAAEJ,QAAQ,CAAC7D,OAAO,CAAC,CAAC,CAAC,CAAC,CAC9C8D,MAAM,CAACG,YAAY,CAAC,GAAG,CAAE,CAAC,CAAC,CAAGZ,YAAY,CAACP,aAAa,CAAG,GAAG,EAAE9C,OAAO,CAAC,CAAC,CAAC,CAAC,CAC3E8D,MAAM,CAACG,YAAY,CAAC,MAAM,CAAEZ,YAAY,CAAC/B,KAAK,CAAC,CAC/CwC,MAAM,CAACG,YAAY,CAAC,SAAS,CAAE,CAACZ,YAAY,CAACtB,OAAO,EAAI,CAAC,CAAGvE,CAAC,CAAG,GAAG,CAAC,EAAI,CAAC,CAAG6F,YAAY,CAACP,aAAa,CAAG,GAAG,CAAC,EAAE9C,OAAO,CAAC,CAAC,CAAC,CAAC,CAC1H8D,MAAM,CAACG,YAAY,CAAC,QAAQ,CAAE,gBAAgB,CAAC,CAE/ChB,kBAAkB,CAACiB,WAAW,CAACJ,MAAM,CAAC,CAEtC;AACA,GAAIT,YAAY,CAACP,aAAa,GAAK,CAAC,CAAE,CACpC,KAAM,CAAAqB,KAAK,CAAGJ,QAAQ,CAACC,eAAe,CAAC,4BAA4B,CAAE,MAAM,CAAC,CAC5E,KAAM,CAAAI,WAAW,CAAG,IAAI,CACxB,KAAM,CAAAC,UAAU,CAAGvK,IAAI,CAACwJ,GAAG,CAAC,CAAC,CAAE9F,CAAC,CAAG4G,WAAW,CAAC,CAC/C,KAAM,CAAA3B,MAAM,CAAGY,YAAY,CAACZ,MAAM,CAAG,CAACY,YAAY,CAACV,IAAI,CAAGU,YAAY,CAACZ,MAAM,EAAI4B,UAAU,CAAGX,KAAK,CAAGW,UAAU,CAAG7G,CAAC,CACpH,KAAM,CAAAkF,MAAM,CAAGW,YAAY,CAACX,MAAM,CAAG,CAACW,YAAY,CAACT,IAAI,CAAGS,YAAY,CAACX,MAAM,EAAI2B,UAAU,CAAGV,KAAK,CAAGU,UAAU,CAAG7G,CAAC,CAEpH2G,KAAK,CAACF,YAAY,CAAC,IAAI,CAAExB,MAAM,CAACzC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC3CmE,KAAK,CAACF,YAAY,CAAC,IAAI,CAAEvB,MAAM,CAAC1C,OAAO,CAAC,CAAC,CAAC,CAAC,CAC3CmE,KAAK,CAACF,YAAY,CAAC,IAAI,CAAEL,QAAQ,CAAC5D,OAAO,CAAC,CAAC,CAAC,CAAC,CAC7CmE,KAAK,CAACF,YAAY,CAAC,IAAI,CAAEJ,QAAQ,CAAC7D,OAAO,CAAC,CAAC,CAAC,CAAC,CAC7CmE,KAAK,CAACF,YAAY,CAAC,QAAQ,CAAEZ,YAAY,CAAC/B,KAAK,CAAC,CAChD6C,KAAK,CAACF,YAAY,CAAC,cAAc,CAAE,GAAG,CAAC,CACvCE,KAAK,CAACF,YAAY,CAAC,SAAS,CAAE,CAACZ,YAAY,CAACtB,OAAO,CAAG,GAAG,EAAI,CAAC,CAAGvE,CAAC,CAAC,EAAEwC,OAAO,CAAC,CAAC,CAAC,CAAC,CAChFmE,KAAK,CAACF,YAAY,CAAC,gBAAgB,CAAE,OAAO,CAAC,CAE7ChB,kBAAkB,CAACiB,WAAW,CAACC,KAAK,CAAC,CACvC,CACF,CACF,CACF,CAAC,CAED;AACA,KAAM,CAAAG,YAAY,CAAGA,CAACC,GAAG,CAAEjE,GAAG,GAAK,CACjC,KAAM,CAAAkE,MAAM,CAAG/J,SAAS,CAACoG,OAAO,CAChC,GAAI,CAAC2D,MAAM,CAAE,OAEbD,GAAG,CAACE,SAAS,CAAC,CAAC,CAAE,CAAC,CAAED,MAAM,CAACE,KAAK,CAAEF,MAAM,CAACG,MAAM,CAAC,CAEhD;AACA7J,YAAY,CAAC+F,OAAO,CAAG/F,YAAY,CAAC+F,OAAO,CAACuC,MAAM,CAAC9F,CAAC,EAAIA,CAAC,CAACuE,IAAI,CAAG,CAAC,CAAC,CAEnE,IAAK,KAAM,CAAAvE,CAAC,GAAI,CAAAxC,YAAY,CAAC+F,OAAO,CAAE,CACpCvD,CAAC,CAACnC,CAAC,EAAImC,CAAC,CAACqE,EAAE,CACXrE,CAAC,CAAClC,CAAC,EAAIkC,CAAC,CAACsE,EAAE,CACXtE,CAAC,CAACqE,EAAE,EAAI,IAAI,CACZrE,CAAC,CAACsE,EAAE,EAAI,IAAI,CACZtE,CAAC,CAACuE,IAAI,EAAIvE,CAAC,CAACwE,KAAK,CACjBxE,CAAC,CAACyE,OAAO,CAAGjI,IAAI,CAACwJ,GAAG,CAAC,CAAC,CAAEhG,CAAC,CAACuE,IAAI,CAAC,CAE/B0C,GAAG,CAACK,WAAW,CAAGtH,CAAC,CAACyE,OAAO,CAAG,GAAG,CACjCwC,GAAG,CAACM,SAAS,CAAGvH,CAAC,CAACgE,KAAK,CACvBiD,GAAG,CAACO,SAAS,CAAC,CAAC,CACfP,GAAG,CAACQ,GAAG,CAACzH,CAAC,CAACnC,CAAC,CAAEmC,CAAC,CAAClC,CAAC,CAAEkC,CAAC,CAACJ,CAAC,CAAGI,CAAC,CAACyE,OAAO,CAAE,CAAC,CAAEjI,IAAI,CAACC,EAAE,CAAG,CAAC,CAAC,CAClDwK,GAAG,CAACS,IAAI,CAAC,CAAC,CACZ,CACF,CAAC,CAED;AACA,KAAM,CAAEC,oBAAqB,CAAC,CAAGpM,aAAa,CAAC,CAAC,CAEhDH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwM,GAAG,CAAG1K,MAAM,CAACqG,OAAO,CAC1B,KAAM,CAAA2D,MAAM,CAAG/J,SAAS,CAACoG,OAAO,CAChC,GAAI,CAACqE,GAAG,EAAI,CAACV,MAAM,CAAE,CACnBW,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAC,CAC9C,OACF,CAEA;AACA,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7Bb,MAAM,CAACE,KAAK,CAAGY,MAAM,CAACC,UAAU,CAChCf,MAAM,CAACG,MAAM,CAAGW,MAAM,CAACE,WAAW,CACpC,CAAC,CACDH,gBAAgB,CAAC,CAAC,CAClBC,MAAM,CAACG,gBAAgB,CAAC,QAAQ,CAAEJ,gBAAgB,CAAC,CAEnD,KAAM,CAAAd,GAAG,CAAGC,MAAM,CAACkB,UAAU,CAAC,IAAI,CAAC,CAEnC;AACAtM,aAAa,CAACqD,YAAY,CAAC,CAC3BrD,aAAa,CAACsD,WAAW,CAAC,CAE1BhC,YAAY,CAACmG,OAAO,CAAGqE,GAAG,CAAChC,aAAa,CAAC,YAAY,CAAC,CACtDvI,gBAAgB,CAACkG,OAAO,CAAGqE,GAAG,CAAChC,aAAa,CAAC,WAAW,CAAC,CAEzD,KAAM,CAAAyC,YAAY,CAAGA,CAAA,IAAO,CAC1BC,IAAI,CAAE,CAAC,CAAEC,UAAU,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAChCC,MAAM,CAAE,CAAC,CAAEC,YAAY,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAC,CACtCC,QAAQ,CAAE,CAAC,CAAEC,cAAc,CAAE,CAAC,CAAEC,SAAS,CAAE,CAAC,CAC5CC,MAAM,CAAE,CAAC,CAAEC,UAAU,CAAEC,WAAW,CAACjG,GAAG,CAAC,CAAC,CACxCkG,cAAc,CAAE,CAAErL,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAC9BqL,gBAAgB,CAAE,CAAEtL,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAChCsL,WAAW,CAAE,KAAK,CAAEC,cAAc,CAAE,CAAC,CACrCC,QAAQ,CAAE,CAAEzL,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEyL,CAAC,CAAE,CAAE,CAAC,CAC9B5F,QAAQ,CAAE,CAAE9F,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEyL,CAAC,CAAE,CAAE,CAAC,CAC9BC,SAAS,CAAE,KAAK,CAChBC,cAAc,CAAE,CAAE5L,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAC9B4L,gBAAgB,CAAE,CAAC,CACnBC,gBAAgB,CAAE,CAAC,CACnB;AACAC,YAAY,CAAEpN,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG3H,IAAI,CAACC,EAAE,CAAG,CAAC,CAAG;AAC5CoN,aAAa,CAAE,EAAE,CAAE;AACnBC,kBAAkB,CAAE,CAAC,CAAE;AACvBC,mBAAmB,CAAE,GAAG,CAAE;AAC1BC,YAAY,CAAE,CAAC,CAAE;AACjBC,YAAY,CAAE,CAAC,CAAE;AACjBC,WAAW,CAAE,CAAC,CAAE;AAChB;AACAC,mBAAmB,CAAE,CAAEtM,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEyL,CAAC,CAAE,CAAE,CAAC,CAAE;AAC3Ca,aAAa,CAAE,CAAEC,MAAM,CAAE,CAAC,CAAEC,WAAW,CAAE,CAAC,CAAEC,YAAY,CAAE,CAAE,CAAC,CAAE;AAC/DC,UAAU,CAAE,IACd,CAAC,CAAC,CAGFlL,kBAAkB,CAACuC,MAAM,CAAG,CAAC,CAC7BtC,cAAc,CAACsC,MAAM,CAAG,CAAC,CACzBvC,kBAAkB,CAAC6C,IAAI,CAAC3F,IAAI,CAACC,EAAE,CAAG,CAAC,CAAC,CACpC8C,cAAc,CAAC4C,IAAI,CAAC,KAAK,CAAC,CAC1B,IAAK,GAAI,CAAA7F,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG0C,UAAU,CAAE1C,CAAC,EAAE,CAAE,CACnC,KAAM,CAAAC,KAAK,CAAGC,IAAI,CAACC,EAAE,CAAG,CAAC,CAAG,CAACH,CAAC,CAAG,CAAC0C,UAAU,CAAG,CAAC,EAAI,CAAC,GAAKxC,IAAI,CAACC,EAAE,CAAG,CAAC,CAAC,CAAG,CAACD,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,GAAK3H,IAAI,CAACC,EAAE,CAAG,EAAE,CAAC,CAC/G6C,kBAAkB,CAAC6C,IAAI,CAAC5F,KAAK,CAAC,CAC9BgD,cAAc,CAAC4C,IAAI,CAAC,KAAK,CAAG7F,CAAC,CAAG,KAAK,CAAGE,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,KAAK,CAAC,CAChE,CAEA7G,YAAY,CAACiG,OAAO,CAAG,CAAC8E,YAAY,CAAC,CAAC,CAAC,CAAE;AACzC9K,YAAY,CAACgG,OAAO,CAAG,EAAE,CACzB9E,iBAAiB,CAAC8E,OAAO,CAAG,EAAE,CAC9B,GAAIlG,gBAAgB,CAACkG,OAAO,CAAE,CAC1BlG,gBAAgB,CAACkG,OAAO,CAACsC,SAAS,CAAG,EAAE,CACvC,IAAK,GAAI,CAAAvJ,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG0C,UAAU,CAAE1C,CAAC,EAAE,CAAE,CACjC,KAAM,CAAAmO,IAAI,CAAGhE,QAAQ,CAACC,eAAe,CAAC,4BAA4B,CAAE,MAAM,CAAC,CAC3E+D,IAAI,CAAC9D,YAAY,CAAC,MAAM,kBAAAlE,MAAA,CAAmBnG,CAAC,KAAG,CAAC,CAChDmO,IAAI,CAAC9D,YAAY,CAAC,SAAS,CAAE,MAAM,CAAC,CACpCtJ,gBAAgB,CAACkG,OAAO,CAACqD,WAAW,CAAC6D,IAAI,CAAC,CAC1ClN,YAAY,CAACgG,OAAO,CAACpB,IAAI,CAACsI,IAAI,CAAC,CAC/B,KAAM,CAAAC,UAAU,CAAGrC,YAAY,CAAC,CAAC,CACjC;AACAqC,UAAU,CAACd,YAAY,CAAGpN,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,CAAC,CAAG3H,IAAI,CAACC,EAAE,CAAE;AACvDiO,UAAU,CAACC,YAAY,CAAGD,UAAU,CAACd,YAAY,CAAE;AAEnD;AACA,KAAM,CAAAgB,YAAY,CAAG,EAAE,CAAGpO,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,EAAE,CAAE;AAC9C,KAAM,CAAA0G,iBAAiB,CAAG,CAACrO,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,EAAI3H,IAAI,CAACC,EAAE,CAAG,CAAC,CAAE;AAC/D,KAAM,CAAAqO,kBAAkB,CAAG,GAAG,CAAGtO,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,CAAE;AACtD,KAAM,CAAA4G,WAAW,CAAG,GAAG,CAAGvO,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,CAAE;AAE/C;AACAuG,UAAU,CAACM,kBAAkB,CAAG,GAAG,CAAGxO,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,CAAE;AAC3DuG,UAAU,CAACO,mBAAmB,CAAG,IAAI,CAAGzO,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,IAAI,CAAE;AAC9DuG,UAAU,CAACQ,sBAAsB,CAAG,GAAG,CAAG1O,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,GAAG,CAAE;AAC/DuG,UAAU,CAACS,uBAAuB,CAAG,EAAE,CAAG3O,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,EAAE,CAAE;AAE9D,KAAM,CAAAiH,SAAS,CAAG,CAChBf,MAAM,CAAEO,YAAY,CACpBN,WAAW,CAAEO,iBAAiB,CAC9BN,YAAY,CAAEO,kBAAkB,CAChCrH,KAAK,CAAEsH,WACT,CAAC,CACDL,UAAU,CAACb,aAAa,CAAGuB,SAAS,CAACf,MAAM,CAC3CK,UAAU,CAACZ,kBAAkB,CAAGsB,SAAS,CAACd,WAAW,CACrDI,UAAU,CAACX,mBAAmB,CAAGqB,SAAS,CAACb,YAAY,CACvDG,UAAU,CAACV,YAAY,CAAGoB,SAAS,CAAC3H,KAAK,CACzCiH,UAAU,CAACT,YAAY,CAAG3N,CAAC,CAAGE,IAAI,CAACC,EAAE,CAAG,CAAC,CAAE;AAC3CiO,UAAU,CAACR,WAAW,CAAG,CAAC,CAAE;AAC5B;AACAQ,UAAU,CAACN,aAAa,CAAG,CACzBC,MAAM,CAAEK,UAAU,CAACb,aAAa,CAChCS,WAAW,CAAEI,UAAU,CAACZ,kBAAkB,CAC1CS,YAAY,CAAEG,UAAU,CAACX,mBAC3B,CAAC,CACDzM,YAAY,CAACiG,OAAO,CAACpB,IAAI,CAACuI,UAAU,CAAC,CACrCjM,iBAAiB,CAAC8E,OAAO,CAACpB,IAAI,CAAC,CAAEtE,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEyL,CAAC,CAAE,CAAE,CAAC,CAAC,CACxD,CACJ,CAEA,KAAM,CAAA8B,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAA3N,EAAE,CAAGsK,MAAM,CAACC,UAAU,CAC5B,KAAM,CAAAtK,EAAE,CAAGqK,MAAM,CAACE,WAAW,CAC7BzK,eAAe,CAAC8F,OAAO,CAAG,CAAE7F,EAAE,CAAEC,EAAG,CAAC,CAEpC,KAAM,CAAA2N,aAAa,CAAGtM,UAAU,CAAG,CAAC,CACpC,KAAM,CAAAuM,QAAQ,CAAGtM,YAAY,CAAG,GAAG,CAAGqM,aAAa,CAAG,EAAE,CACxD,KAAM,CAAAE,QAAQ,CAAGD,QAAQ,CAAGrM,WAAW,CAAG,CAAC,CAC3C,KAAM,CAAAuM,MAAM,CAAGjP,IAAI,CAACyJ,GAAG,CAACvI,EAAE,CAAEC,EAAE,CAAC,CAC/B,KAAM,CAAA+N,KAAK,CAAGD,MAAM,EAAID,QAAQ,CAAG,CAAC,CAAC,CAErC5D,GAAG,CAACjB,YAAY,CAAC,OAAO,CAAEjJ,EAAE,CAAC2C,QAAQ,CAAC,CAAC,CAAC,CACxCuH,GAAG,CAACjB,YAAY,CAAC,QAAQ,CAAEhJ,EAAE,CAAC0C,QAAQ,CAAC,CAAC,CAAC,CACzCuH,GAAG,CAACjB,YAAY,CAAC,SAAS,QAAAlE,MAAA,CAAS/E,EAAE,MAAA+E,MAAA,CAAI9E,EAAE,CAAE,CAAC,CAE9C;AACA,KAAM,CAAAgO,YAAY,CAAG,EAAE,CAAE;AACzB,KAAM,CAAAC,WAAW,CAAGjO,EAAE,CAAG,IAAI,CAAE;AAE/B;AACA,KAAM,CAAAkO,gBAAgB,CAAG,EAAE,CAAE;AAC7B,KAAM,CAAAC,cAAc,CAAGD,gBAAgB,CAAG3M,WAAW,CAAG,EAAE,CAAE;AAE5D;AACA,KAAM,CAAA6M,IAAI,CAAGJ,YAAY,CAAG,EAAE,CAAE;AAChC,KAAM,CAAAK,IAAI,CAAGL,YAAY,CAAG,EAAE,CAAE;AAChC,KAAM,CAAAM,OAAO,CAAGN,YAAY,CAAE;AAE9B;AACA,KAAM,CAAAO,QAAQ,CAAGxO,EAAE,CAAG,GAAG,CACzB,KAAM,CAAAyO,QAAQ,CAAGzO,EAAE,EAAI,GAAG,EAAIA,EAAE,CAAG,IAAI,CAEvC,GAAI,CAAA0O,WAAW,CACf,GAAI,CAAAC,YAAY,CAEhB,GAAIH,QAAQ,CAAE,CACZE,WAAW,CAAG,EAAE,CAAE;AAClB;AACA,KAAM,CAAAE,eAAe,CAAG3O,EAAE,CAAGgO,YAAY,CAAG,EAAE,CAAE;AAChD,KAAM,CAAAY,cAAc,CAAG7O,EAAE,CAAG,EAAE,CAAE;AAChC,KAAM,CAAA8O,YAAY,CAAGhQ,IAAI,CAACyJ,GAAG,CAACsG,cAAc,CAAED,eAAe,CAAC,CAC9DD,YAAY,CAAG7P,IAAI,CAACyJ,GAAG,CAAC,IAAI,CAAEuG,YAAY,EAAIV,cAAc,CAAG,GAAG,CAAC,CAAC,CACtE,CAAC,IAAM,IAAIK,QAAQ,CAAE,CACnBC,WAAW,CAAG1O,EAAE,CAAG,GAAG,CACtB2O,YAAY,CAAG,IAAI,CACrB,CAAC,IAAM,CACLD,WAAW,CAAG5P,IAAI,CAACyJ,GAAG,CAAC,GAAG,CAAEvI,EAAE,CAAG,IAAI,CAAC,CAAE;AACxC2O,YAAY,CAAG,CAAC,CAClB,CAEA,KAAM,CAAAI,UAAU,CAAGf,KAAK,CAAGW,YAAY,CAEvCzO,mBAAmB,CAAC2F,OAAO,CAAG,CAAE1F,CAAC,CAAEH,EAAE,CAAG,GAAG,CAAG0O,WAAW,CAAEtO,CAAC,CAAEmO,OAAQ,CAAC,CACvElO,eAAe,CAACwF,OAAO,CAAG,CAAE1F,CAAC,CAAEH,EAAE,CAAG,GAAG,CAAG0O,WAAW,CAAEtO,CAAC,CAAEmO,OAAQ,CAAC,CACnEjO,WAAW,CAACuF,OAAO,CAAGkJ,UAAU,CAClC,CAAC,CAEDpB,aAAa,CAAC,CAAC,CACfrD,MAAM,CAACG,gBAAgB,CAAC,QAAQ,CAAEkD,aAAa,CAAC,CAEhD;AACA,KAAM,CAAAqB,eAAe,CAAIC,CAAC,EAAK,CAC7B,KAAM,CAAAC,IAAI,CAAGhF,GAAG,CAACiF,qBAAqB,CAAC,CAAC,CACxCtO,gBAAgB,CAACgF,OAAO,CAAG,CACzB1F,CAAC,CAAE8O,CAAC,CAACG,OAAO,CAAGF,IAAI,CAACG,IAAI,CACxBjP,CAAC,CAAE6O,CAAC,CAACK,OAAO,CAAGJ,IAAI,CAACK,GACtB,CAAC,CACH,CAAC,CAEDjF,MAAM,CAACG,gBAAgB,CAAC,WAAW,CAAEuE,eAAe,CAAC,CAErD;AACA,KAAM,CAAAQ,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,OAAO,CAAGnF,MAAM,CAACmF,OAAO,CAC9B,KAAM,CAAAnK,GAAG,CAAGiG,WAAW,CAACjG,GAAG,CAAC,CAAC,CAC7B,KAAM,CAAAoK,EAAE,CAAGpK,GAAG,CAAG3E,iBAAiB,CAACkF,OAAO,CAE1C,GAAI6J,EAAE,CAAG,CAAC,CAAE,CACVhP,iBAAiB,CAACmF,OAAO,CAAG,CAAC4J,OAAO,CAAGhP,iBAAiB,CAACoF,OAAO,EAAI6J,EAAE,CAAG,GAAG,CAC9E,CAEAjP,iBAAiB,CAACoF,OAAO,CAAG4J,OAAO,CACnC9O,iBAAiB,CAACkF,OAAO,CAAGP,GAAG,CAE/B,KAAM,CAAAqK,UAAU,CAAGrF,MAAM,CAACE,WAAW,CACrC,KAAM,CAAAoF,cAAc,CAAG9Q,IAAI,CAACyJ,GAAG,CAACkH,OAAO,CAAGE,UAAU,CAAE,CAAC,CAAC,CAExD;AACA,GAAI,CAACnP,mBAAmB,CAACqF,OAAO,CAAE,CAChCrF,mBAAmB,CAACqF,OAAO,CAAGgK,qBAAqB,CAACC,OAAO,CAAC,CAC9D,CAEA;AACA,KAAM,CAAAC,WAAW,CAAGnQ,YAAY,CAACiG,OAAO,CAAC,CAAC,CAAC,CAC3C,GAAIkK,WAAW,CAAE,CACfA,WAAW,CAAClF,UAAU,EAAInK,iBAAiB,CAACmF,OAAO,CAAG,GAAG,CACzD7E,iBAAiB,CAAC6E,OAAO,CAACzF,CAAC,CAAGM,iBAAiB,CAACmF,OAAO,CAAG,IAAI,CAChE,CACF,CAAC,CAEDyE,MAAM,CAACG,gBAAgB,CAAC,QAAQ,CAAE+E,YAAY,CAAC,CAE/C,KAAM,CAAAQ,WAAW,CAAIf,CAAC,EAAK,CACzB,KAAM,CAAA3J,GAAG,CAAGiG,WAAW,CAACjG,GAAG,CAAC,CAAC,CAC7B,KAAM,CAAAoK,EAAE,CAAG5Q,IAAI,CAACwJ,GAAG,CAAC,CAAC,CAAEhD,GAAG,CAAG/E,gBAAgB,CAACsF,OAAO,CAAC,CACtDtF,gBAAgB,CAACsF,OAAO,CAAGP,GAAG,CAC9B,KAAM,CAAAW,QAAQ,CAAGnH,IAAI,CAACwJ,GAAG,CAAC,CAAC,EAAE,CAAExJ,IAAI,CAACyJ,GAAG,CAAC,EAAE,CAAE0G,CAAC,CAACgB,MAAM,CAAGP,EAAE,CAAG,GAAG,CAAC,CAAC,CAEjE;AACA,KAAM,CAAAK,WAAW,CAAGnQ,YAAY,CAACiG,OAAO,CAAC,CAAC,CAAC,CAC3C,GAAIkK,WAAW,EAAInO,kBAAkB,CAAC,CAAC,CAAC,GAAKwC,SAAS,CAAE,CACtD,KAAM,CAAAvF,KAAK,CAAG+C,kBAAkB,CAAC,CAAC,CAAC,CACnCmO,WAAW,CAAClF,UAAU,EAAK/L,IAAI,CAACJ,GAAG,CAACG,KAAK,CAAC,CAAGoH,QAAQ,CAAG,GAAG,CAAGnH,IAAI,CAACH,GAAG,CAACE,KAAK,CAAC,CAAGoH,QAAQ,CAAG,GAAI,CACjG,CACAgJ,CAAC,CAACiB,cAAc,CAAC,CAAC,CACpB,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGjG,GAAG,CACvBiG,WAAW,CAAC1F,gBAAgB,CAAC,OAAO,CAAEuF,WAAW,CAAE,CAAEI,OAAO,CAAE,KAAM,CAAC,CAAC,CAEtE,KAAM,CAAAN,OAAO,CAAGA,CAAA,GAAM,CACpB,GAAI,CAACtQ,MAAM,CAACqG,OAAO,EAAI,CAACnG,YAAY,CAACmG,OAAO,EAAI,CAAClG,gBAAgB,CAACkG,OAAO,CAAE,CACzErF,mBAAmB,CAACqF,OAAO,CAAGgK,qBAAqB,CAACC,OAAO,CAAC,CAC5D,OACF,CAEA;AAEA,KAAM,CAAAxK,GAAG,CAAGiG,WAAW,CAACjG,GAAG,CAAC,CAAC,CAE7B;AACA,KAAM,CAAAC,OAAO,CAAID,GAAG,CAAG,IAAI,CAAI,GAAG,CAClC,KAAM,CAAA+K,QAAQ,CAAG9K,OAAO,CACxB,KAAM,CAAA+K,MAAM,CAAG,CAAC/K,OAAO,CAAG,EAAE,CAAGzG,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,OAAO,CAAGxG,IAAI,CAACC,EAAE,CAAG,GAAG,CAAC,EAAI,GAAG,CAC7E,KAAM,CAAAwR,UAAU,CAAGzO,QAAQ,CAACuO,QAAQ,CAAE,EAAE,CAAE,EAAE,CAAC,CAC7C,KAAM,CAAAG,QAAQ,CAAG1O,QAAQ,CAACwO,MAAM,CAAE,EAAE,CAAE,EAAE,CAAC,CACzCrG,oBAAoB,CAAC,CAAEwG,KAAK,CAAEF,UAAU,CAAEG,GAAG,CAAEF,QAAS,CAAC,CAAC,CAE1D,KAAM,CAAAG,WAAW,CAAG,CAClB,CAAEnJ,EAAE,CAAE,IAAI,CAAEnD,KAAK,CAAE,CAAE,CAAC,CAAE,CAAEmD,EAAE,CAAE,IAAI,CAAEnD,KAAK,CAAEvF,IAAI,CAACC,EAAE,CAAG,GAAI,CAAC,CAC1D,CAAEyI,EAAE,CAAE,IAAI,CAAEnD,KAAK,CAAEvF,IAAI,CAACC,EAAG,CAAC,CAAE,CAAEyI,EAAE,CAAE,IAAI,CAAEnD,KAAK,CAAEvF,IAAI,CAACC,EAAE,CAAG,GAAI,CAAC,CACjE,CACD,IAAK,GAAI,CAAAH,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG+R,WAAW,CAACxM,MAAM,CAAEvF,CAAC,EAAE,CAAE,CAC3C,KAAM,CAAAgS,IAAI,CAAGD,WAAW,CAAC/R,CAAC,CAAC,CAC3B,KAAM,CAAAiS,GAAG,CAAG,CAACtL,OAAO,CAAG,EAAE,CAAGzG,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,OAAO,CAAGsL,IAAI,CAACvM,KAAK,CAAC,EAAI,GAAG,CACvE,KAAM,CAAAoB,GAAG,CAAG,EAAE,CAAG,EAAE,CAAG3G,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,MAAM,CAAGsL,IAAI,CAACvM,KAAK,CAAC,CACzD,KAAM,CAAAyM,KAAK,CAAG,EAAE,CAAG,EAAE,CAAGhS,IAAI,CAACH,GAAG,CAAC2G,GAAG,CAAG,OAAO,CAAGsL,IAAI,CAACvM,KAAK,CAAC,CAC5D,KAAM,CAAA0M,MAAM,CAAGvR,MAAM,CAACqG,OAAO,CAACqC,aAAa,KAAAnD,MAAA,CAAK6L,IAAI,CAACpJ,EAAE,CAAE,CAAC,CAC1D,GAAIuJ,MAAM,CAAEA,MAAM,CAAC9H,YAAY,CAAC,YAAY,CAAEnH,QAAQ,CAAC+O,GAAG,CAAEpL,GAAG,CAAEqL,KAAK,CAAC,CAAC,CAC1E,CAEA;AACA,KAAM,CAAAf,WAAW,CAAGnQ,YAAY,CAACiG,OAAO,CAAC,CAAC,CAAC,CAC3C,GAAIkK,WAAW,EAAInO,kBAAkB,CAAC,CAAC,CAAC,GAAKwC,SAAS,CAAE,CACtD,KAAM,CAAA4M,MAAM,CAAG,IAAI,EAAI,CAAC,CAAGnP,cAAc,CAAC,CAAC,CAAC,CAAC,CAC7C,KAAM,CAAAsE,OAAO,CAAG,IAAI,CAAGtE,cAAc,CAAC,CAAC,CAAC,CAAG,GAAG,CAC9C,CAACkO,WAAW,CAACnF,IAAI,CAAEmF,WAAW,CAACjF,KAAK,CAAC,CAAG9E,YAAY,CAAC+J,WAAW,CAACnF,IAAI,CAAEmF,WAAW,CAAClF,UAAU,CAAEkF,WAAW,CAACjF,KAAK,CAAEkG,MAAM,CAAE7K,OAAO,CAAC,CAClI,GAAIrH,IAAI,CAACmS,GAAG,CAAClB,WAAW,CAAClF,UAAU,CAAC,CAAG,GAAG,EAAI/L,IAAI,CAACmS,GAAG,CAAClB,WAAW,CAACnF,IAAI,CAAC,CAAG,GAAG,CAAE,CAC9EmF,WAAW,CAAC1E,MAAM,EAAI,IAAI,CAAGxJ,cAAc,CAAC,CAAC,CAAC,CAAG,GAAG,CACpDkO,WAAW,CAACnF,IAAI,EAAI9L,IAAI,CAACJ,GAAG,CAACqR,WAAW,CAAC1E,MAAM,CAAC,CAAGvM,IAAI,CAACwJ,GAAG,CAAC,CAAC,CAAExJ,IAAI,CAACmS,GAAG,CAAClB,WAAW,CAACnF,IAAI,CAAC,CAAG,IAAI,EAAI,CAAC,CAAG/I,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAC7H,CAAC,IAAM,IAAI/C,IAAI,CAACmS,GAAG,CAAClB,WAAW,CAAClF,UAAU,CAAC,CAAG,GAAG,CAAE,CACjDkF,WAAW,CAAC1E,MAAM,CAAG,CAAC,CACxB,CACA0E,WAAW,CAAClF,UAAU,CAAGjF,QAAQ,CAACmK,WAAW,CAAClF,UAAU,CAAE,CAAC,CAAE,KAAK,CAAGhJ,cAAc,CAAC,CAAC,CAAC,CAAG,GAAG,CAAC,CAC/F,CAEA;AACA,GAAIkO,WAAW,EAAInO,kBAAkB,CAAC,CAAC,CAAC,GAAKwC,SAAS,CAAE,CACtD,KAAM,CAAA8M,YAAY,CAAG5L,GAAG,CAAG,OAAO,CAAE;AACpC,KAAM,CAAA6L,UAAU,CAAGpB,WAAW,CAACnF,IAAI,CACnC,KAAM,CAAAwG,WAAW,CAAGxP,kBAAkB,CAAC,CAAC,CAAC,CACzC,KAAM,CAAAyP,QAAQ,CAAGvS,IAAI,CAACH,GAAG,CAACyS,WAAW,CAAC,CAAGD,UAAU,CACnD,KAAM,CAAAG,QAAQ,CAAGxS,IAAI,CAACJ,GAAG,CAAC0S,WAAW,CAAC,CAAGD,UAAU,CACnD,KAAM,CAAAnD,KAAK,CAAG1N,WAAW,CAACuF,OAAO,EAAI,CAAC,CAEtC,KAAM,CAAE7F,EAAE,CAAEC,EAAG,CAAC,CAAGF,eAAe,CAAC8F,OAAO,CAE1C;AACA,KAAM,CAAAoI,YAAY,CAAG,EAAE,CACvB,KAAM,CAAAE,gBAAgB,CAAG,EAAE,CAC3B,KAAM,CAAAC,cAAc,CAAGD,gBAAgB,CAAG3M,WAAW,CAAG,EAAE,CAE1D;AACA,KAAM,CAAA+P,MAAM,CAAG1Q,gBAAgB,CAACgF,OAAO,CAAC1F,CAAC,CACzC,KAAM,CAAAqR,MAAM,CAAG3Q,gBAAgB,CAACgF,OAAO,CAACzF,CAAC,CACzC,KAAM,CAAAqR,OAAO,CAAGF,MAAM,CAAGrR,mBAAmB,CAAC2F,OAAO,CAAC1F,CAAC,CACtD,KAAM,CAAAuR,OAAO,CAAGF,MAAM,CAAGtR,mBAAmB,CAAC2F,OAAO,CAACzF,CAAC,CACtD,KAAM,CAAAuR,aAAa,CAAG7S,IAAI,CAAC8S,IAAI,CAACH,OAAO,CAAGA,OAAO,CAAGC,OAAO,CAAGA,OAAO,CAAC,CACtE,KAAM,CAAAG,cAAc,CAAG,EAAE,CACzB,KAAM,CAAAC,WAAW,CAAGhT,IAAI,CAACwJ,GAAG,CAAC,CAAC,CAAE,CAAC,CAAGqJ,aAAa,CAAG,GAAG,CAAC,CAAGE,cAAc,CAEzE;AACA7Q,iBAAiB,CAAC6E,OAAO,CAAC1F,CAAC,EAAI,IAAI,CACnCa,iBAAiB,CAAC6E,OAAO,CAACzF,CAAC,EAAI,IAAI,CAEnC;AACA,KAAM,CAAA2R,YAAY,CAAGjT,IAAI,CAACwJ,GAAG,CAAC,CAAC,EAAE,CAAExJ,IAAI,CAACyJ,GAAG,CAAC,EAAE,CAAE9H,iBAAiB,CAACoF,OAAO,CAAG,CAAC,IAAI,CAAC,CAAC,CAEnF;AACA,KAAM,CAAAmM,MAAM,CAAGlT,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,MAAM,CAAC,CAAG,EAAE,CAAGxG,IAAI,CAACH,GAAG,CAAC2G,GAAG,CAAG,OAAO,CAAC,CAAG,EAAE,CACzE,KAAM,CAAA2M,MAAM,CAAGnT,IAAI,CAACH,GAAG,CAAC2G,GAAG,CAAG,OAAO,CAAC,CAAG,EAAE,CAAGxG,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,OAAO,CAAC,CAAG,CAAC,CAEzE,KAAM,CAAA4M,EAAE,CAAGhS,mBAAmB,CAAC2F,OAAO,CAAC1F,CAAC,CAC7B6R,MAAM,CACN,CAACP,OAAO,CAAGE,aAAa,EAAI,CAAC,EAAIG,WAAW,CAC5C9Q,iBAAiB,CAAC6E,OAAO,CAAC1F,CAAC,CACtC;AACA,KAAM,CAAAgS,KAAK,CAAGjS,mBAAmB,CAAC2F,OAAO,CAACzF,CAAC,CAC3C,KAAM,CAAAgS,SAAS,CAAGD,KAAK,CACNF,MAAM,CACN,CAACP,OAAO,CAAGC,aAAa,EAAI,CAAC,EAAIG,WAAW,CAC5C9Q,iBAAiB,CAAC6E,OAAO,CAACzF,CAAC,CAC3B2R,YAAY,CAE7B;AACA,KAAM,CAAAM,QAAQ,CAAGpE,YAAY,CAAG,EAAE,CAAE;AACpC,KAAM,CAAAqE,QAAQ,CAAGrE,YAAY,CAAG,EAAE,CAAE;AACpC,KAAM,CAAAsE,EAAE,CAAGzT,IAAI,CAACyJ,GAAG,CAAC+J,QAAQ,CAAExT,IAAI,CAACwJ,GAAG,CAAC+J,QAAQ,CAAED,SAAS,CAAC,CAAC,CAE5D/R,eAAe,CAACwF,OAAO,CAAG,CAAE1F,CAAC,CAAE+R,EAAE,CAAE9R,CAAC,CAAEmS,EAAG,CAAC,CAE1C;AACA,KAAM,CAAAC,WAAW,CAAG,CAAC,CAAG1T,IAAI,CAACmS,GAAG,CAACvQ,iBAAiB,CAACmF,OAAO,CAAC,CAAG,MAAM,CACpE,KAAM,CAAA4M,cAAc,CAAGpR,gBAAgB,CAACwE,OAAO,CAAG,GAAG,CAAG,CAAC,CACzD,KAAM,CAAA6M,OAAO,CAAG,CAACnR,YAAY,CAAG4P,UAAU,CAAG,IAAI,EAAInD,KAAK,CAAGwE,WAAW,CAAGC,cAAc,CACzF,KAAM,CAAAE,SAAS,CAAG,CAAC,CAAC,CAAG7T,IAAI,CAACmS,GAAG,CAACE,UAAU,CAAC,CAAG,KAAK,EAAInD,KAAK,CAC5D,KAAM,CAAA4E,UAAU,CAAG9O,uBAAuB,CAACoO,EAAE,CAAGb,QAAQ,CAAGrD,KAAK,CAAEuE,EAAE,CAAGjB,QAAQ,CAAGtD,KAAK,CAAE0E,OAAO,CAAEjR,YAAY,CAAEyP,YAAY,CAAEyB,SAAS,CAAC,CACxI,GAAIjT,YAAY,CAACmG,OAAO,CAAEnG,YAAY,CAACmG,OAAO,CAACoD,YAAY,CAAC,GAAG,CAAE2J,UAAU,CAAC,CAC9E,CAEA;AACA,GAAIjT,gBAAgB,CAACkG,OAAO,EAAIhG,YAAY,CAACgG,OAAO,CAAC1B,MAAM,GAAK7C,UAAU,CAAE,CAC1E;AACA3B,gBAAgB,CAACkG,OAAO,CAACvG,KAAK,CAACuT,SAAS,CAAG,MAAM,CACjD;AACA,KAAM,CAAAC,YAAY,CAAGrU,KAAK,CAACsU,IAAI,CAAC,CAAE5O,MAAM,CAAE7C,UAAW,CAAC,CAAE,CAAC0R,CAAC,CAAEpU,CAAC,GAAKA,CAAC,CAAC,CAEpE;AACAkU,YAAY,CAACG,IAAI,CAAC,CAAClQ,CAAC,CAAEX,CAAC,GAAK,KAAA8Q,gBAAA,CAAAC,gBAAA,CAC1B,KAAM,CAAAC,MAAM,CAAGxT,YAAY,CAACiG,OAAO,CAAC9C,CAAC,CAAG,CAAC,CAAC,CAC1C,KAAM,CAAAsQ,MAAM,CAAGzT,YAAY,CAACiG,OAAO,CAACzD,CAAC,CAAG,CAAC,CAAC,CAC1C,MAAO,CAAC,CAAAgR,MAAM,SAANA,MAAM,kBAAAF,gBAAA,CAANE,MAAM,CAAExH,QAAQ,UAAAsH,gBAAA,iBAAhBA,gBAAA,CAAkBrH,CAAC,GAAI,CAAC,GAAK,CAAAwH,MAAM,SAANA,MAAM,kBAAAF,gBAAA,CAANE,MAAM,CAAEzH,QAAQ,UAAAuH,gBAAA,iBAAhBA,gBAAA,CAAkBtH,CAAC,GAAI,CAAC,CAAC,CAChE,CAAC,CAAC,CAEF,IAAK,GAAI,CAAAyH,GAAG,CAAG,CAAC,CAAEA,GAAG,CAAGhS,UAAU,CAAEgS,GAAG,EAAE,CAAE,KAAAC,qBAAA,CACzC,KAAM,CAAA3U,CAAC,CAAGkU,YAAY,CAACQ,GAAG,CAAC,CAC3B,KAAM,CAAAE,KAAK,CAAG5T,YAAY,CAACiG,OAAO,CAACjH,CAAC,CAAG,CAAC,CAAC,CACzC,GAAI,CAAC4U,KAAK,EAAI5R,kBAAkB,CAAChD,CAAC,CAAC,CAAC,CAAC,GAAKwF,SAAS,CAAE,SAErD;AACAoP,KAAK,CAAC5I,IAAI,EAAI,IAAI,CAAE;AACpB4I,KAAK,CAAC3I,UAAU,CAAG,CAAC,CAEpB,KAAM,CAAA4I,GAAG,CAAGpO,qBAAqB,CAACzG,CAAC,CAAE0G,GAAG,CAAC,CACzC,KAAM,CAAAoO,IAAI,CAAG,GAAG,CAAG,GAAG,CAAG5U,IAAI,CAACJ,GAAG,CAAC4G,GAAG,CAAG,MAAM,CAAG1G,CAAC,CAAC,CACnD,KAAM,CAAA+U,UAAU,CAAG7Q,SAAS,CAAC2Q,GAAG,CAAC,CAAC,CAAC,CAAEA,GAAG,CAAC,CAAC,CAAC,CAAEC,IAAI,CAAC,CAClD,KAAM,CAAAE,cAAc,CAAGpU,MAAM,CAACqG,OAAO,CAACqC,aAAa,MAAAnD,MAAA,CAAMnG,CAAC,MAAI,CAAC,CAC/D,KAAM,CAAAiV,cAAc,CAAGrU,MAAM,CAACqG,OAAO,CAACqC,aAAa,MAAAnD,MAAA,CAAMnG,CAAC,MAAI,CAAC,CAC/D,GAAIgV,cAAc,CAAEA,cAAc,CAAC3K,YAAY,CAAC,YAAY,CAAE0K,UAAU,CAAC,CACzE,GAAIE,cAAc,CAAEA,cAAc,CAAC5K,YAAY,CAAC,YAAY,CAAEnG,SAAS,CAAC2Q,GAAG,CAAC,CAAC,CAAC,CAAEA,GAAG,CAAC,CAAC,CAAC,CAAEC,IAAI,CAAC,CAAC,CAE9F;AACA,GAAIF,KAAK,CAACtH,YAAY,GAAK9H,SAAS,EAAI0P,KAAK,CAACN,KAAK,CAACtH,YAAY,CAAC,CAAE,CACjEsH,KAAK,CAACtH,YAAY,CAAItN,CAAC,CAAG,CAAC,CAAGE,IAAI,CAACC,EAAE,CAAGuC,UAAW,CACrD,CACA;AACA,KAAM,CAAAyE,KAAK,CAAGyN,KAAK,CAAClH,YAAY,EAAI,CAAC,CACrCkH,KAAK,CAACtH,YAAY,EAAInG,KAAK,CAAG,KAAK,CAAE;AACrC,KAAM,CAAAlH,KAAK,CAAG2U,KAAK,CAACtH,YAAY,CAEhC;AACA,KAAM,CAAA6H,UAAU,CAAGzO,GAAG,CAAG,MAAM,CAC/B,KAAM,CAAA0O,eAAe,CAAGlV,IAAI,CAACJ,GAAG,CAACqV,UAAU,EAAIP,KAAK,CAAChG,sBAAsB,EAAI,GAAG,CAAC,CAAG5O,CAAC,CAAGE,IAAI,CAACC,EAAE,CAAC,EAAIyU,KAAK,CAAC/F,uBAAuB,EAAI,EAAE,CAAC,CAC1I,KAAM,CAAAwG,UAAU,CAAGnV,IAAI,CAACJ,GAAG,CAACqV,UAAU,CAAG,GAAG,CAAGnV,CAAC,CAAC,EAAI4U,KAAK,CAACjG,mBAAmB,EAAI,GAAG,CAAC,CAEtF;AACAiG,KAAK,CAAC/G,mBAAmB,CAACtM,CAAC,CAAG,CAAC,CAC/BqT,KAAK,CAAC/G,mBAAmB,CAACrM,CAAC,CAAG,CAAC,CAC/BoT,KAAK,CAAC/G,mBAAmB,CAACZ,CAAC,CAAG,CAAC,CAE/B,KAAM,CAAE7L,EAAE,CAAEC,EAAG,CAAC,CAAGF,eAAe,CAAC8F,OAAO,CAC1C,KAAM,CAAAqO,cAAc,CAAG,CAAC3S,YAAY,CAAG,CAAC,EAAAgS,qBAAA,CAAA3T,YAAY,CAACiG,OAAO,CAAC,CAAC,CAAC,UAAA0N,qBAAA,iBAAvBA,qBAAA,CAAyB3I,IAAI,GAAI,CAAC,EAAI,IAAI,GAAKtK,WAAW,CAACuF,OAAO,EAAI,CAAC,CAAC,CAEhH;AACA,KAAM,CAAAsO,UAAU,CAAGX,KAAK,CAACrH,aAAa,EAAI,EAAE,CAC5C,KAAM,CAAAjK,CAAC,CAAGiS,UAAU,CAAGH,eAAe,CAAE;AACxC,KAAM,CAAA/E,CAAC,CAAGuE,KAAK,CAACnH,mBAAmB,EAAI,GAAG,CAE1C;AACA,KAAM,CAAA+H,eAAe,CAAGL,UAAU,EAAIP,KAAK,CAAClG,kBAAkB,EAAI,GAAG,CAAC,CAAGkG,KAAK,CAACvG,YAAY,CAE3F;AACA,KAAM,CAAAoH,mBAAmB,CAAGpF,CAAC,CAAGnQ,IAAI,CAACJ,GAAG,CAACqV,UAAU,CAAG,GAAG,CAAGnV,CAAC,CAAG,CAAC,CAAC,CAAG,GAAG,CACxE,KAAM,CAAAmE,CAAC,CAAGb,CAAC,CAAE;AACb,KAAM,CAAAE,CAAC,CAAGF,CAAC,EAAI,CAAC,CAAGmS,mBAAmB,CAAG,GAAG,CAAC,CAAE;AAE/C;AACA,KAAM,CAAAC,KAAK,CAAGvR,CAAC,CAAGjE,IAAI,CAACH,GAAG,CAACE,KAAK,CAAGoV,UAAU,CAAC,CAC9C,KAAM,CAAA9B,KAAK,CAAG/P,CAAC,CAAGtD,IAAI,CAACJ,GAAG,CAACG,KAAK,CAAGoV,UAAU,CAAC,CAC9C,KAAM,CAAAM,QAAQ,CAAGD,KAAK,CAAGxV,IAAI,CAACH,GAAG,CAACyV,eAAe,CAAC,CAAGjC,KAAK,CAAGrT,IAAI,CAACJ,GAAG,CAAC0V,eAAe,CAAC,CACtF,KAAM,CAAAI,QAAQ,CAAGF,KAAK,CAAGxV,IAAI,CAACJ,GAAG,CAAC0V,eAAe,CAAC,CAAGjC,KAAK,CAAGrT,IAAI,CAACH,GAAG,CAACyV,eAAe,CAAC,CAEtF;AACA,KAAM,CAAAxH,WAAW,CAAG4G,KAAK,CAACpH,kBAAkB,CAAGtN,IAAI,CAACJ,GAAG,CAACqV,UAAU,CAAG,GAAG,CAAGnV,CAAC,CAAC,CAAG,GAAG,CACnF,KAAM,CAAA6V,mBAAmB,CAAG3V,IAAI,CAACJ,GAAG,CAACqV,UAAU,CAAG,GAAG,CAAGnV,CAAC,CAAGE,IAAI,CAACC,EAAE,CAAG,CAAC,CAAC,CAAG,EAAE,CAE7E,KAAM,CAAA2V,MAAM,CAAGH,QAAQ,CACvB,KAAM,CAAAI,MAAM,CAAGH,QAAQ,CAAG1V,IAAI,CAACH,GAAG,CAACiO,WAAW,CAAC,CAAG6H,mBAAmB,CACrE,KAAM,CAAAG,MAAM,CAAGJ,QAAQ,CAAG1V,IAAI,CAACJ,GAAG,CAACkO,WAAW,CAAC,CAE/C;AACA,KAAM,CAAAiI,WAAW,CAAG,GAAG,CACvB,KAAM,CAAAC,OAAO,CAAGD,WAAW,EAAIA,WAAW,CAAGD,MAAM,CAAC,CAEpD;AACA,KAAM,CAAA7E,WAAW,CAAGnQ,YAAY,CAACiG,OAAO,CAAC,CAAC,CAAC,CAC3C,KAAM,CAAAsL,UAAU,CAAG,CAAApB,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEnF,IAAI,GAAI,CAAC,CACzC,KAAM,CAAAmK,eAAe,CAAGnT,kBAAkB,CAAC,CAAC,CAAC,EAAI,CAAC,CAClD,KAAM,CAAAyP,QAAQ,CAAGvS,IAAI,CAACH,GAAG,CAACoW,eAAe,CAAC,CAAG5D,UAAU,CACvD,KAAM,CAAAG,QAAQ,CAAGxS,IAAI,CAACJ,GAAG,CAACqW,eAAe,CAAC,CAAG5D,UAAU,CACvD,KAAM,CAAAnD,KAAK,CAAG1N,WAAW,CAACuF,OAAO,EAAI,CAAC,CAEtC,KAAM,CAAAuB,OAAO,CAAG/G,eAAe,CAACwF,OAAO,CAAC1F,CAAC,CAAGkR,QAAQ,CAAGrD,KAAK,CAC5D,KAAM,CAAA3G,OAAO,CAAGhH,eAAe,CAACwF,OAAO,CAACzF,CAAC,CAAGkR,QAAQ,CAAGtD,KAAK,CAE5D;AACA,KAAM,CAAA9G,MAAM,CAAGE,OAAO,CAAGsN,MAAM,CAAGI,OAAO,CAAG9G,KAAK,CACjD,KAAM,CAAA7G,MAAM,CAAGE,OAAO,CAAGsN,MAAM,CAAGG,OAAO,CAAG9G,KAAK,CAEjD;AACAwF,KAAK,CAAC5H,QAAQ,CAACC,CAAC,CAAG+I,MAAM,CAEzB;AACA,KAAM,CAAAI,EAAE,CAAG,CAAC,CACZ,KAAM,CAAAC,EAAE,CAAG,CAAC,CAEZ;AACAzB,KAAK,CAACvN,QAAQ,CAAC9F,CAAC,CAAG,CAAC,CACpBqT,KAAK,CAACvN,QAAQ,CAAC7F,CAAC,CAAG,CAAC,CAEpB;AACA,KAAM,CAAA8U,YAAY,CAAGpW,IAAI,CAAC8S,IAAI,CAAC,CAAC1K,MAAM,CAAGE,OAAO,GAAKF,MAAM,CAAGE,OAAO,CAAC,CAAG,CAACD,MAAM,CAAGE,OAAO,GAAKF,MAAM,CAAGE,OAAO,CAAC,CAAC,CACjH,KAAM,CAAA8N,WAAW,CAAG,CAAC5T,YAAY,CAAGC,WAAW,EAAIwM,KAAK,CAAG,GAAG,CAAE;AAEhE,GAAI,CAAAoH,OAAO,CAAG,CAAC,CAAEC,OAAO,CAAG,CAAC,CAC5B,GAAIH,YAAY,CAAGC,WAAW,EAAID,YAAY,CAAG,CAAC,CAAE,CAClD;AACA,KAAM,CAAAI,KAAK,CAAG,CAACpO,MAAM,CAAGE,OAAO,EAAI8N,YAAY,CAC/C,KAAM,CAAAK,KAAK,CAAG,CAACpO,MAAM,CAAGE,OAAO,EAAI6N,YAAY,CAC/C,KAAM,CAAAM,SAAS,CAAG,CAACL,WAAW,CAAGD,YAAY,EAAI,GAAG,CACpDE,OAAO,CAAGE,KAAK,CAAGE,SAAS,CAC3BH,OAAO,CAAGE,KAAK,CAAGC,SAAS,CAC7B,CAEA;AACA,GAAI,CAAArV,CAAC,CAAEC,CAAC,CAER,GAAIoT,KAAK,CAAC1H,SAAS,CAAE,CACnB;AACA0H,KAAK,CAACxH,gBAAgB,CAAGlN,IAAI,CAACyJ,GAAG,CAAC,CAAC,CAAEiL,KAAK,CAACxH,gBAAgB,CAAG,IAAI,CAAC,CACnE,KAAM,CAAAxJ,CAAC,CAAGgR,KAAK,CAACxH,gBAAgB,CAChC,KAAM,CAAAyJ,OAAO,CAAG,CAAC,CAAG3W,IAAI,CAAC4W,GAAG,CAAC,CAAC,CAAGlT,CAAC,CAAE,CAAC,CAAC,CACtCrC,CAAC,CAAG+G,MAAM,CAAG,CAACsM,KAAK,CAACzH,cAAc,CAAC5L,CAAC,CAAG+G,MAAM,EAAIuO,OAAO,CACxDrV,CAAC,CAAG+G,MAAM,CAAG,CAACqM,KAAK,CAACzH,cAAc,CAAC3L,CAAC,CAAG+G,MAAM,EAAIsO,OAAO,CAC1D,CAAC,IAAM,IAAIjC,KAAK,CAACvH,gBAAgB,CAAG,CAAC,CAAE,CACrC;AACAuH,KAAK,CAACvH,gBAAgB,CAAGnN,IAAI,CAACyJ,GAAG,CAAC,CAAC,CAAEiL,KAAK,CAACvH,gBAAgB,CAAG,KAAK,CAAC,CACpE,KAAM,CAAAzJ,CAAC,CAAGgR,KAAK,CAACvH,gBAAgB,CAChC,KAAM,CAAA0J,SAAS,CAAGnT,CAAC,CAAG,GAAG,CAAG,CAAC,CAAGA,CAAC,CAAGA,CAAC,CAAG,CAAC,CAAG1D,IAAI,CAAC4W,GAAG,CAAC,CAAC,CAAC,CAAGlT,CAAC,CAAG,CAAC,CAAE,CAAC,CAAC,CAAG,CAAC,CAEvE;AACA,KAAM,CAAAiF,MAAM,CAAG+L,KAAK,CAACzH,cAAc,CAAC5L,CAAC,EAAI+G,MAAM,CAC/C,KAAM,CAAAQ,MAAM,CAAG3H,eAAe,CAAC8F,OAAO,CAAC5F,EAAE,CAAG,GAAG,CAE/CE,CAAC,CAAGsH,MAAM,CAAG,CAACP,MAAM,CAAGO,MAAM,EAAIkO,SAAS,CAC1CvV,CAAC,CAAGsH,MAAM,CAAG,CAACP,MAAM,CAAGO,MAAM,EAAIiO,SAAS,CAC5C,CAAC,IAAM,CACL;AACAxV,CAAC,CAAG+G,MAAM,CAAG8N,EAAE,CAAGI,OAAO,CACzBhV,CAAC,CAAG+G,MAAM,CAAG8N,EAAE,CAAGI,OAAO,CAC3B,CAEA;AACA,KAAM,CAAAO,gBAAgB,CAAG,CAAC,CAAG9W,IAAI,CAACmS,GAAG,CAACvQ,iBAAiB,CAACmF,OAAO,CAAC,CAAG,MAAM,CACzE,KAAM,CAAAgQ,mBAAmB,CAAGrC,KAAK,CAAC1H,SAAS,CAAG,GAAG,CAAG,CAAC,CACrD,KAAM,CAAAgK,UAAU,CAAGhB,OAAO,CAAG,GAAG,CAAG,GAAG,CAAE;AACxC,KAAM,CAAAiB,YAAY,CAAGjB,OAAO,CAAG,GAAG,CAAG,GAAG,CAAE;AAE1C,KAAM,CAAAkB,EAAE,CAAG,CAACxU,WAAW,CAAGgS,KAAK,CAAC5I,IAAI,CAAG,IAAI,EAAIoD,KAAK,CAAG8H,UAAU,CAAGF,gBAAgB,CAAGC,mBAAmB,CAC1G,KAAM,CAAAI,eAAe,CAAG,CAACtU,QAAQ,CAAG7C,IAAI,CAACmS,GAAG,CAACuC,KAAK,CAAC5I,IAAI,CAAC,CAAG,KAAK,EAAIoD,KAAK,CAAG8H,UAAU,CACtF,KAAM,CAAAI,MAAM,CAAG5Q,GAAG,CAAG,MAAM,CAAG1G,CAAC,CAAG,EAAE,CAAE;AAEtC,KAAM,CAAAuX,SAAS,CAAGrS,uBAAuB,CAAC3D,CAAC,CAAEC,CAAC,CAAE4V,EAAE,CAAEtU,WAAW,CAAEwU,MAAM,CAAED,eAAe,CAAErX,CAAC,CAAC,CAG5F,KAAM,CAAAmO,IAAI,CAAGlN,YAAY,CAACgG,OAAO,CAACjH,CAAC,CAAC,CACpC,GAAImO,IAAI,CAAE,CACRA,IAAI,CAAC9D,YAAY,CAAC,GAAG,CAAEkN,SAAS,CAAC,CAEjC,KAAM,CAAAC,SAAS,CAAG,EAAE,CAAEC,OAAO,CAAG,GAAG,CACnC,KAAM,CAAAC,IAAI,CAAGxX,IAAI,CAACyJ,GAAG,CAAC,CAAC,CAAEzJ,IAAI,CAACwJ,GAAG,CAAC,CAAC,CAAE,CAAC+N,OAAO,CAAGvX,IAAI,CAACmS,GAAG,CAACuC,KAAK,CAAC3I,UAAU,CAAC,GAAKwL,OAAO,CAAGD,SAAS,CAAC,CAAC,CAAC,CAErG,GAAI5C,KAAK,CAAC1G,UAAU,GAAK1I,SAAS,CAAEoP,KAAK,CAAC1G,UAAU,CAAGwJ,IAAI,CAAG,GAAG,CAEjE,GAAIA,IAAI,CAAG,GAAG,EAAIA,IAAI,CAAG,IAAI,EAAI,CAAC9C,KAAK,CAAC9H,WAAW,CAAE,CACnD,KAAM,CAAApF,KAAK,CAAGxD,SAAS,CAAC2Q,GAAG,CAAC,CAAC,CAAC,CAAEA,GAAG,CAAC,CAAC,CAAC,CAAEC,IAAI,CAAC,CAC7C,KAAM,CAAA6C,QAAQ,CAAGzX,IAAI,CAAC0X,IAAI,CAAC,CAAC,GAAG,CAAGF,IAAI,EAAI,CAAC,CAAC,CAC5CjQ,aAAa,CAAClG,CAAC,CAAEC,CAAC,CAAEkG,KAAK,CAAEiQ,QAAQ,CAAE3X,CAAC,CAAE0G,GAAG,CAAC,CAC5CyH,IAAI,CAAC9D,YAAY,CAAC,SAAS,CAAE,CAACqN,IAAI,CAAG,IAAI,EAAEtR,OAAO,CAAC,CAAC,CAAC,CAAC,CACxD,CAAC,IAAM,IAAIwO,KAAK,CAAC1G,UAAU,EAAIwJ,IAAI,EAAI,IAAI,CAAE,CAC3C,KAAM,CAAAhQ,KAAK,CAAGxD,SAAS,CAAC2Q,GAAG,CAAC,CAAC,CAAC,CAAEA,GAAG,CAAC,CAAC,CAAC,CAAEC,IAAI,CAAC,CAC7CrN,aAAa,CAAClG,CAAC,CAAEC,CAAC,CAAEkG,KAAK,CAAE,CAAC,CAAE1H,CAAC,CAAE0G,GAAG,CAAC,CACrCyH,IAAI,CAAC9D,YAAY,CAAC,SAAS,CAAE,GAAG,CAAC,CACjCuK,KAAK,CAAC1G,UAAU,CAAG,KAAK,CAC1B,CAAC,IAAM,IAAI,CAAC0G,KAAK,CAAC1G,UAAU,EAAIwJ,IAAI,CAAG,IAAI,CAAE,CAC3C,KAAM,CAAAhQ,KAAK,CAAGxD,SAAS,CAAC2Q,GAAG,CAAC,CAAC,CAAC,CAAEA,GAAG,CAAC,CAAC,CAAC,CAAEC,IAAI,CAAC,CAC7CrN,aAAa,CAAClG,CAAC,CAAEC,CAAC,CAAEkG,KAAK,CAAE,CAAC,CAAE1H,CAAC,CAAE0G,GAAG,CAAC,CACrCyH,IAAI,CAAC9D,YAAY,CAAC,SAAS,CAAE,CAACqN,IAAI,CAAG,IAAI,EAAEtR,OAAO,CAAC,CAAC,CAAC,CAAC,CACtDwO,KAAK,CAAC1G,UAAU,CAAG,IAAI,CACzB,CAAC,IAAM,CACL;AACAC,IAAI,CAAC9D,YAAY,CAAC,SAAS,CAAE,CAAC,IAAI,CAAG8M,YAAY,EAAE/Q,OAAO,CAAC,CAAC,CAAC,CAAC,CAChE,CAEA;AACAjE,iBAAiB,CAAC8E,OAAO,CAACjH,CAAC,CAAC,CAAG,CAAEuB,CAAC,CAAEC,CAAC,CAAEyL,CAAC,CAAE+I,MAAO,CAAC,CAElD;AACA;AACA,KAAM,CAAA6B,WAAW,CAAGjX,MAAM,CAACqG,OAAO,CAACqC,aAAa,CAAC,KAAK,CAAC,CACvD,KAAM,CAAAwO,WAAW,CAAG,CAAAD,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEE,YAAY,CAAC,YAAY,CAAC,GAAI,SAAS,CAExE;AACA,KAAM,CAAAC,UAAU,CAAGjD,UAAU,CAACkD,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,GAAKH,WAAW,CAACG,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CAE7E;AACA,KAAM,CAAAC,yBAAyB,CAAGxR,GAAG,EAAIpE,uBAAuB,CAAC2E,OAAO,CAACjH,CAAC,CAAC,EAAI,CAAC,CAAC,CACjF,KAAM,CAAAmY,WAAW,CAAG,IAAI,CAAGjY,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,IAAI,CAAE;AACjD,GAAIqQ,yBAAyB,CAAGC,WAAW,EAAIjY,IAAI,CAAC2H,MAAM,CAAC,CAAC,CAAG,IAAI,CAAE,CACnEO,sBAAsB,CAACpI,CAAC,CAAEuB,CAAC,CAAEC,CAAC,CAAEgH,OAAO,CAAEC,OAAO,CAAEsM,UAAU,CAAC,CAC7DzS,uBAAuB,CAAC2E,OAAO,CAACjH,CAAC,CAAC,CAAG0G,GAAG,CAC1C,CAEA;AACA,GAAIyH,IAAI,CAACiK,UAAU,CAAE,CACnBjK,IAAI,CAACiK,UAAU,CAAC9N,WAAW,CAAC6D,IAAI,CAAC,CACnC,CACF,CACF,CACF,CAEA;AACAhF,uBAAuB,CAAC,CAAC,CAEzB;AACAuB,YAAY,CAACC,GAAG,CAAEjE,GAAG,CAAC,CAEtB9E,mBAAmB,CAACqF,OAAO,CAAGgK,qBAAqB,CAACC,OAAO,CAAC,CAC9D,CAAC,CAEDtP,mBAAmB,CAACqF,OAAO,CAAGgK,qBAAqB,CAACC,OAAO,CAAC,CAE5D,MAAO,IAAM,CACXxF,MAAM,CAAC2M,mBAAmB,CAAC,QAAQ,CAAEtJ,aAAa,CAAC,CACnDrD,MAAM,CAAC2M,mBAAmB,CAAC,QAAQ,CAAE5M,gBAAgB,CAAC,CACtDC,MAAM,CAAC2M,mBAAmB,CAAC,QAAQ,CAAEzH,YAAY,CAAC,CAClDlF,MAAM,CAAC2M,mBAAmB,CAAC,WAAW,CAAEjI,eAAe,CAAC,CACxD,GAAImB,WAAW,CAAE,CACfA,WAAW,CAAC8G,mBAAmB,CAAC,OAAO,CAAEjH,WAAW,CAAC,CACvD,CACA,GAAIxP,mBAAmB,CAACqF,OAAO,CAAE,CAC/BqR,oBAAoB,CAAC1W,mBAAmB,CAACqF,OAAO,CAAC,CACnD,CACF,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,mBACE5H,KAAA,CAACL,GAAG,EACFyB,EAAE,CAAA8X,aAAA,EACAvL,QAAQ,CAAE,OAAO,CACjB2D,GAAG,CAAE,CAAC,CACNF,IAAI,CAAE,CAAC,CACP3F,KAAK,CAAE,OAAO,CACdC,MAAM,CAAE,OAAO,CACfvK,MAAM,CACNgY,aAAa,CAAE,MAAM,CAAE;AACvBC,WAAW,CAAE,MAAM,CAAE;AACrBC,UAAU,CAAE,aAAa,EACtBjY,EAAE,CACL,CACFC,KAAK,CAAEA,KAAM,CACbC,SAAS,CAAEA,SAAU,CAAAgY,QAAA,eAErBxZ,IAAA,WACEyZ,GAAG,CAAE/X,SAAU,CACfH,KAAK,CAAE,CACLsM,QAAQ,CAAE,UAAU,CACpB2D,GAAG,CAAE,CAAC,CACNF,IAAI,CAAE,CAAC,CACP3F,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MACV,CAAE,CACH,CAAC,cACF1L,KAAA,QACEuZ,GAAG,CAAEhY,MAAO,CACZgI,EAAE,CAAC,QAAQ,CACXlI,KAAK,CAAE,CAAEoK,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEiC,QAAQ,CAAE,UAAW,CAAE,CAAA2L,QAAA,eAE/DtZ,KAAA,SAAAsZ,QAAA,eACEtZ,KAAA,mBAAgBuJ,EAAE,CAAC,YAAY,CAACzD,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAAC9B,CAAC,CAAC,KAAK,CAAAqV,QAAA,eACvDxZ,IAAA,SAAMyJ,EAAE,CAAC,IAAI,CAACiQ,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,cAC/C3Z,IAAA,SAAMyJ,EAAE,CAAC,IAAI,CAACiQ,MAAM,CAAC,MAAM,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,cACjD3Z,IAAA,SAAMyJ,EAAE,CAAC,IAAI,CAACiQ,MAAM,CAAC,KAAK,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,cAChD3Z,IAAA,SAAMyJ,EAAE,CAAC,IAAI,CAACiQ,MAAM,CAAC,KAAK,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,EAClC,CAAC,cACjBzZ,KAAA,mBAAgBuJ,EAAE,CAAC,YAAY,CAACzD,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAAC9B,CAAC,CAAC,KAAK,CAAAqV,QAAA,eACvDxZ,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,cACjD3Z,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,MAAM,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,EACrC,CAAC,cACjBzZ,KAAA,mBAAgBuJ,EAAE,CAAC,YAAY,CAACzD,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAAC9B,CAAC,CAAC,KAAK,CAAAqV,QAAA,eACvDxZ,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,cACjD3Z,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,MAAM,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,EACrC,CAAC,cACjBzZ,KAAA,mBAAgBuJ,EAAE,CAAC,YAAY,CAACzD,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAAC9B,CAAC,CAAC,KAAK,CAAAqV,QAAA,eACvDxZ,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,cACjD3Z,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,MAAM,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,EACrC,CAAC,cACjBzZ,KAAA,mBAAgBuJ,EAAE,CAAC,YAAY,CAACzD,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAAC9B,CAAC,CAAC,KAAK,CAAAqV,QAAA,eACvDxZ,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,cACjD3Z,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,MAAM,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,EACrC,CAAC,cACjBzZ,KAAA,mBAAgBuJ,EAAE,CAAC,YAAY,CAACzD,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CAAC9B,CAAC,CAAC,KAAK,CAAAqV,QAAA,eACvDxZ,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,cACjD3Z,IAAA,SAAMyJ,EAAE,CAAC,MAAM,CAACiQ,MAAM,CAAC,MAAM,CAACC,SAAS,CAAC,SAAS,CAAC,CAAC,EACrC,CAAC,cACjBzZ,KAAA,WAAQuJ,EAAE,CAAC,MAAM,CAAA+P,QAAA,eACfxZ,IAAA,mBAAgB4Z,YAAY,CAAC,GAAG,CAACC,MAAM,CAAC,aAAa,CAAC,CAAC,cACvD3Z,KAAA,YAAAsZ,QAAA,eACExZ,IAAA,gBAAa8Z,EAAE,CAAC,aAAa,CAAC,CAAC,cAC/B9Z,IAAA,gBAAa8Z,EAAE,CAAC,eAAe,CAAC,CAAC,EAC1B,CAAC,EACJ,CAAC,cACT5Z,KAAA,WAAQuJ,EAAE,CAAC,UAAU,CAAA+P,QAAA,eACnBxZ,IAAA,mBAAgB4Z,YAAY,CAAC,GAAG,CAACC,MAAM,CAAC,aAAa,CAAC,CAAC,cACvD7Z,IAAA,kBAAe8Z,EAAE,CAAC,aAAa,CAACC,IAAI,CAAC,QAAQ,CAACC,MAAM,CAAC,4CAA4C,CAAC,CAAC,cACnG9Z,KAAA,YAAAsZ,QAAA,eACExZ,IAAA,gBAAa8Z,EAAE,CAAC,aAAa,CAAC,CAAC,cAC/B9Z,IAAA,gBAAa8Z,EAAE,CAAC,eAAe,CAAC,CAAC,EAC1B,CAAC,EACJ,CAAC,EACL,CAAC,cACP9Z,IAAA,SAAMyJ,EAAE,CAAC,WAAW,CAACwC,IAAI,CAAC,kBAAkB,CAACjD,OAAO,CAAC,MAAM,CAAC,CAAC,cAC7DhJ,IAAA,MAAGyJ,EAAE,CAAC,mBAAmB,CAAI,CAAC,cAC9BzJ,IAAA,MAAGyJ,EAAE,CAAC,UAAU,CAAI,CAAC,EAClB,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtI,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}